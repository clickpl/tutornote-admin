# TutorNote Master Admin ëŒ€ì‹œë³´ë“œ ê°œì„  ê¸°íšì„œ

**ë¬¸ì„œ ë²„ì „**: 1.1  
**ì‘ì„±ì¼**: 2026ë…„ 1ì›” 4ì¼  
**ìµœì¢… ìˆ˜ì •**: 2026ë…„ 1ì›” 5ì¼  
**ì‘ì„±ì**: TutorNote Product Team  
**ëŒ€ìƒ ë…ì**: ê°œë°œíŒ€, ê²½ì˜ì§„, AI Agent (Claude Code)

---

## ğŸ“‘ ëª©ì°¨

1. [ê°œìš”](#1-ê°œìš”)
2. [í˜„ì¬ ë¬¸ì œì  ë¶„ì„](#2-í˜„ì¬-ë¬¸ì œì -ë¶„ì„)
3. [ê°œì„  ëª©í‘œ](#3-ê°œì„ -ëª©í‘œ)
4. [ëŒ€ì‹œë³´ë“œ êµ¬ì¡° ì„¤ê³„](#4-ëŒ€ì‹œë³´ë“œ-êµ¬ì¡°-ì„¤ê³„)
5. [ì„¹ì…˜ë³„ ìƒì„¸ ìŠ¤í™](#5-ì„¹ì…˜ë³„-ìƒì„¸-ìŠ¤í™)
6. [ë°ì´í„° ìˆ˜ì§‘ ë°©ë²•](#6-ë°ì´í„°-ìˆ˜ì§‘-ë°©ë²•)
7. [êµ¬í˜„ ì „ëµ ë° ìš´ì˜ ê³„íš](#7-êµ¬í˜„-ì „ëµ-ë°-ìš´ì˜-ê³„íš)
8. [êµ¬í˜„ ë‹¨ê³„ë³„ ê³„íš](#8-êµ¬í˜„-ë‹¨ê³„ë³„-ê³„íš)
9. [ê¸°ìˆ  ìŠ¤íƒ ë° êµ¬í˜„ ê°€ì´ë“œ](#9-ê¸°ìˆ -ìŠ¤íƒ-ë°-êµ¬í˜„-ê°€ì´ë“œ)
10. [í…ŒìŠ¤íŠ¸ ê³„íš](#10-í…ŒìŠ¤íŠ¸-ê³„íš)
11. [ì„±ê³µ ì§€í‘œ](#11-ì„±ê³µ-ì§€í‘œ)

---

## 1. ê°œìš”

### 1.1 ë°°ê²½

TutorNote Master Adminì€ ì„œë¹„ìŠ¤ ìš´ì˜ìê°€ ì „ì²´ í”Œë«í¼ì˜ ê±´ê°•ë„ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³  ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ê¸° ìœ„í•œ ê´€ë¦¬ ë„êµ¬ì…ë‹ˆë‹¤. í˜„ì¬ ëŒ€ì‹œë³´ë“œëŠ” **ì‹œìŠ¤í…œ ìƒíƒœ ëª¨ë‹ˆí„°ë§**ì— ì¹˜ìš°ì³ ìˆìœ¼ë©°, ì •ì‘ **ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ì‚¬ê²°ì •**ì— í•„ìš”í•œ ì§€í‘œê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.

### 1.2 ë¬¸ì„œ ëª©ì 

ë³¸ ê¸°íšì„œëŠ” ëŒ€ì‹œë³´ë“œë¥¼ **"ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ ë„êµ¬"**ì—ì„œ **"ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸ í”Œë«í¼"**ìœ¼ë¡œ ì „í™˜í•˜ê¸° ìœ„í•œ êµ¬ì²´ì ì¸ ì„¤ê³„ ë° êµ¬í˜„ ê³„íšì„ ì œì‹œí•©ë‹ˆë‹¤.

### 1.3 í•µì‹¬ ê°œì„  ë°©í–¥

1. **ì •ë³´ í†µí•©**: 3ê°œë¡œ ë¶„ì‚°ëœ í˜ì´ì§€(ëŒ€ì‹œë³´ë“œ, ì¸ì‚¬ì´íŠ¸ ì§€í‘œ, ì‹œìŠ¤í…œ)ë¥¼ 1ê°œì˜ ëŒ€ì‹œë³´ë“œë¡œ í†µí•©
2. **ìš°ì„ ìˆœìœ„ ëª…í™•í™”**: Critical Alertsë¥¼ ìµœìƒë‹¨ì— ë°°ì¹˜í•˜ì—¬ ì¦‰ì‹œ ëŒ€ì‘ ê°€ëŠ¥
3. **ë¹„ì¦ˆë‹ˆìŠ¤ ì¤‘ì‹¬**: ì„±ì¥, í™œì„±ë„, ìˆ˜ìµí™” ì§€í‘œë¥¼ í•µì‹¬ìœ¼ë¡œ ë°°ì¹˜
4. **ë°ì´í„° ì •í•©ì„±**: API ì‚¬ìš©ëŸ‰, í™œë™ ë¡œê·¸ ë“± ë°ì´í„° ì§‘ê³„ ë¡œì§ ê°œì„ 

---

## 2. í˜„ì¬ ë¬¸ì œì  ë¶„ì„

### 2.1 êµ¬ì¡°ì  ë¬¸ì œ

| ë¬¸ì œ | í˜„ìƒ | ì˜í–¥ |
|------|------|------|
| **ì •ë³´ ë¶„ì‚°** | ëŒ€ì‹œë³´ë“œ, ì¸ì‚¬ì´íŠ¸ ì§€í‘œ, ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ 3ê³³ì— ë¶„ì‚° | ì „ì²´ ìƒí™© íŒŒì•…ì„ ìœ„í•´ ì—¬ëŸ¬ í˜ì´ì§€ ì´ë™ í•„ìš” |
| **Critical ì •ë³´ ì€í** | CPU 92.4%, Backend ì¬ì‹œì‘ 102íšŒê°€ ë³„ë„ í˜ì´ì§€ì— | ê¸´ê¸‰ ìƒí™© ì¸ì§€ ì§€ì—° |
| **ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ ë¶€ì¡±** | ì‹œìŠ¤í…œ ì§€í‘œ ìœ„ì£¼, ì„±ì¥/í™œì„±ë„ ì§€í‘œ ë¶€ì¡± | ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ì‚¬ê²°ì • ì–´ë ¤ì›€ |

### 2.2 ë°ì´í„° ì •í•©ì„± ë¬¸ì œ

| ë¬¸ì œ | í˜„ìƒ | ì›ì¸ ì¶”ì • |
|------|------|----------|
| **Claude API ë¹„ìš© $0.00** | ì‹¤ì œ í…ŒìŠ¤íŠ¸ë¥¼ ë§ì´ í–ˆìœ¼ë‚˜ 0í† í° í‘œì‹œ | API ì‚¬ìš©ëŸ‰ ì§‘ê³„ ë¡œì§ ë¯¸ì‘ë™ ë˜ëŠ” ì—°ë™ ì˜¤ë¥˜ |
| **ì‹¤ì‹œê°„ í™œë™ í”¼ë“œ ëˆ„ë½** | ì˜¤ëŠ˜ í…ŒìŠ¤íŠ¸í•œ í™œë™ì´ ë°˜ì˜ ì•ˆ ë¨ | í™œë™ ë¡œê·¸ ì €ì¥ íŠ¸ë¦¬ê±° ì˜¤ë¥˜ ë˜ëŠ” ì‹œê°„ëŒ€ ì„¤ì • ë¬¸ì œ |

### 2.3 ì‚¬ìš©ì„± ë¬¸ì œ

| ë¬¸ì œ | í˜„ìƒ | ê°œì„  ë°©í–¥ |
|------|------|----------|
| **ìˆ˜ë™ ì—…ë°ì´íŠ¸ ì„¹ì…˜** | "ì•Œë¦¼í†¡ ìƒíƒœ", "ì¹´ì¹´ì˜¤ ë¹„ì¦ˆë‹ˆìŠ¤" ìˆ˜ë™ ì—…ë°ì´íŠ¸ | ìë™í™” ë˜ëŠ” ì œê±° |
| **ë‚®ì€ ì •ë³´ ë°€ë„** | í° ì¹´ë“œì— ë‹¨ìˆœ ìˆ«ìë§Œ í‘œì‹œ | íŠ¸ë Œë“œ, ë¹„êµ, ì»¨í…ìŠ¤íŠ¸ ì¶”ê°€ |
| **ì•¡ì…˜ ë¶ˆê°€ëŠ¥** | ë¬¸ì œ ë°œê²¬ í›„ í•  ìˆ˜ ìˆëŠ” ì•¡ì…˜ ì—†ìŒ | ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼ ì¶”ê°€ |

---

## 3. ê°œì„  ëª©í‘œ

### 3.1 ì •ëŸ‰ì  ëª©í‘œ

| ì§€í‘œ | í˜„ì¬ | ëª©í‘œ | ì¸¡ì • ë°©ë²• |
|------|------|------|----------|
| **ëŒ€ì‹œë³´ë“œ í™•ì¸ ì†Œìš” ì‹œê°„** | ~5ë¶„ (3ê°œ í˜ì´ì§€) | ~1ë¶„ (1ê°œ í˜ì´ì§€) | ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ |
| **Critical Issue ì¸ì§€ ì‹œê°„** | ~30ì´ˆ (í˜ì´ì§€ ì´ë™ í•„ìš”) | ~3ì´ˆ (ìµœìƒë‹¨ í‘œì‹œ) | ì‹œë®¬ë ˆì´ì…˜ |
| **ë°ì´í„° ì •í•©ì„±** | 70% (Claude API, í™œë™ ë¡œê·¸ ì˜¤ë¥˜) | 100% | ì‹¤ì œ ë°ì´í„° ê²€ì¦ |
| **ìš´ì˜ì ë§Œì¡±ë„** | - | 8/10 ì´ìƒ | ì„¤ë¬¸ ì¡°ì‚¬ |

### 3.2 ì •ì„±ì  ëª©í‘œ

- **Single Source of Truth**: ëŒ€ì‹œë³´ë“œ í•˜ë‚˜ë¡œ ëª¨ë“  ìƒí™© íŒŒì•… ê°€ëŠ¥
- **Actionable Insights**: ë°ì´í„°ë¥¼ ë³´ê³  ì¦‰ì‹œ ì•¡ì…˜ ê°€ëŠ¥
- **Proactive Monitoring**: ë¬¸ì œê°€ ë°œìƒí•˜ê¸° ì „ì— ì˜ˆì¸¡ ë° ì•Œë¦¼
- **ë¹„ì¦ˆë‹ˆìŠ¤ ì¤‘ì‹¬**: ì‹œìŠ¤í…œ ì§€í‘œë³´ë‹¤ ë¹„ì¦ˆë‹ˆìŠ¤ ì„±ê³¼ ì§€í‘œ ìš°ì„ 

---

## 4. ëŒ€ì‹œë³´ë“œ êµ¬ì¡° ì„¤ê³„

### 4.1 ì „ì²´ ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ğŸš¨ Critical Alerts (ìƒë‹¨ ê³ ì •)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  ğŸ“Š í•µì‹¬ ì§€í‘œ ì¹´ë“œ (4x3 Grid)                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚ ë¹„ì¦ˆë‹ˆìŠ¤ â”‚ ì°¸ì—¬ë„   â”‚ ìˆ˜ìµí™”   â”‚ ì‹œìŠ¤í…œ   â”‚                      â”‚
â”‚  â”‚ ê±´ê°•ë„   â”‚         â”‚ ì¤€ë¹„ë„   â”‚ ê±´ê°•ë„   â”‚                      â”‚
â”‚  â”‚ (4ê°œ)   â”‚ (4ê°œ)   â”‚ (4ê°œ)   â”‚ (4ê°œ)   â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”½ ì ‘ì—ˆë‹¤ í¼ì¹˜ê¸° ì„¹ì…˜                                              â”‚
â”‚  â”œâ”€ ğŸ“‹ ì´íƒˆ ìœ„í—˜ í•™ì› (ê¸°ë³¸ í¼ì¹¨)                                   â”‚
â”‚  â”œâ”€ ğŸ“Š í™œì„± í•™ì› ìƒì„¸                                              â”‚
â”‚  â”œâ”€ ğŸ“ˆ ì˜¨ë³´ë”© í¼ë„ ë¶„ì„                                            â”‚
â”‚  â””â”€ ğŸ“œ ì‹œìŠ¤í…œ ë¡œê·¸ (ê¸°ë³¸ ì ‘í˜)                                      â”‚
â”‚                                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš¡ ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ë©”ë‰´ êµ¬ì¡° ë³€ê²½

#### AS-IS (í˜„ì¬)
```
ğŸ“Š ëŒ€ì‹œë³´ë“œ
ğŸ“ˆ ì¸ì‚¬ì´íŠ¸ ì§€í‘œ
ğŸ›ï¸ í•™ì› ê´€ë¦¬
ğŸ”„ ë³µêµ¬/ìˆ˜ì • ì„¼í„°
âš–ï¸ ë²•ë¬´ ê´€ë¦¬
ğŸ”” ì•Œë¦¼ ê´€ë¦¬
âš™ï¸ ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§
```

#### TO-BE (ê°œì„ )
```
ğŸ“Š ëŒ€ì‹œë³´ë“œ          â† í•µì‹¬ ì§€í‘œ ëª¨ë‘ í†µí•©
ğŸ›ï¸ í•™ì› ê´€ë¦¬
ğŸ”„ ë³µêµ¬/ìˆ˜ì • ì„¼í„°
âš–ï¸ ë²•ë¬´ ê´€ë¦¬
ğŸ”” ì•Œë¦¼ ê´€ë¦¬
âš™ï¸ ì‹œìŠ¤í…œ             â† ê¸°ìˆ  ìƒì„¸ë§Œ ìœ ì§€ (CPU, PM2, API í—¬ìŠ¤ì²´í¬)
```

**ë³€ê²½ ì‚¬í•­**:
- âŒ "ì¸ì‚¬ì´íŠ¸ ì§€í‘œ" ë©”ë‰´ ì œê±° â†’ ëŒ€ì‹œë³´ë“œì— í†µí•©
- âœ… "ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§" â†’ "ì‹œìŠ¤í…œ"ìœ¼ë¡œ ê°„ì†Œí™”

---

## 5. ì„¹ì…˜ë³„ ìƒì„¸ ìŠ¤í™

### 5.1 Section 1: Critical Alerts

#### 5.1.1 UI ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸš¨ ì¦‰ì‹œ í™•ì¸ì´ í•„ìš”í•œ ì‚¬í•­                              [ìµœì†Œí™” â–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”´ ì‹œìŠ¤í…œ ë¬¸ì œ (2ê±´)                                             â”‚
â”‚   â€¢ CPU ì‚¬ìš©ë¥  92.4% - ì„œë²„ ë¶€í•˜ ë†’ìŒ, ì¦‰ì‹œ í™•ì¸ í•„ìš”            â”‚
â”‚     [ì‹œìŠ¤í…œ í˜ì´ì§€ë¡œ ì´ë™ â†’]                                      â”‚
â”‚   â€¢ tutornote-backend ì¬ì‹œì‘ 102íšŒ - ì•ˆì •ì„± ë¬¸ì œ ì˜ì‹¬            â”‚
â”‚     [ì¬ì‹œì‘ â†’] [ë¡œê·¸ í™•ì¸ â†’]                                     â”‚
â”‚                                                                    â”‚
â”‚ ğŸŸ¡ ë¹„ì¦ˆë‹ˆìŠ¤ ì£¼ì˜ (2ê±´)                                           â”‚
â”‚   â€¢ 23ì¼ê°„ ë¬´í™œë™ í•™ì› 1ê³³ (ìŒì•…í•™ì›)                             â”‚
â”‚     [í•™ì› ìƒì„¸ â†’] [ì•Œë¦¼ ë³´ë‚´ê¸° â†’]                                 â”‚
â”‚   â€¢ 11ì¼ê°„ ë¬´í™œë™ í•™ì› 1ê³³ (ìµœì¢…ë ˆìŠ¤íŠ¸í•™ì›)                        â”‚
â”‚     [í•™ì› ìƒì„¸ â†’] [ì•Œë¦¼ ë³´ë‚´ê¸° â†’]                                 â”‚
â”‚                                                                    â”‚
â”‚ ğŸŸ¢ ì •ìƒ ì‘ë™ ì¤‘                                                   â”‚
â”‚   â€¢ Claude API, ì¹´ì¹´ì˜¤ API, ë°ì´í„°ë² ì´ìŠ¤                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.1.2 Alert Rule (ì•Œë¦¼ ì¡°ê±´)

| ì¹´í…Œê³ ë¦¬ | ì§€í‘œ | ì„ê³„ê°’ | ìƒ‰ìƒ | ìš°ì„ ìˆœìœ„ |
|---------|------|--------|------|---------|
| ì‹œìŠ¤í…œ | CPU ì‚¬ìš©ë¥  | > 90% | ğŸ”´ ë¹¨ê°• | ê¸´ê¸‰ |
| ì‹œìŠ¤í…œ | RAM ì‚¬ìš©ë¥  | > 85% | ğŸŸ¡ ë…¸ë‘ | ì£¼ì˜ |
| ì‹œìŠ¤í…œ | Disk ì‚¬ìš©ë¥  | > 90% | ğŸ”´ ë¹¨ê°• | ê¸´ê¸‰ |
| ì‹œìŠ¤í…œ | Backend ì¬ì‹œì‘ íšŸìˆ˜ | > 50íšŒ/ì£¼ | ğŸŸ¡ ë…¸ë‘ | ì£¼ì˜ |
| ì‹œìŠ¤í…œ | Backend ì¬ì‹œì‘ íšŸìˆ˜ | > 100íšŒ/ì£¼ | ğŸ”´ ë¹¨ê°• | ê¸´ê¸‰ |
| ì‹œìŠ¤í…œ | API ì—ëŸ¬ìœ¨ | > 5% | ğŸŸ¡ ë…¸ë‘ | ì£¼ì˜ |
| ì‹œìŠ¤í…œ | API ì—ëŸ¬ìœ¨ | > 10% | ğŸ”´ ë¹¨ê°• | ê¸´ê¸‰ |
| ë¹„ì¦ˆë‹ˆìŠ¤ | ë¬´í™œë™ í•™ì› | 7ì¼ | ğŸŸ¢ ì´ˆë¡ | ì •ìƒ |
| ë¹„ì¦ˆë‹ˆìŠ¤ | ë¬´í™œë™ í•™ì› | 14ì¼ | ğŸŸ¡ ë…¸ë‘ | ì£¼ì˜ |
| ë¹„ì¦ˆë‹ˆìŠ¤ | ë¬´í™œë™ í•™ì› | 21ì¼ | ğŸŸ  ì£¼í™© | ê²½ê³  |
| ë¹„ì¦ˆë‹ˆìŠ¤ | ë¬´í™œë™ í•™ì› | 30ì¼ | ğŸ”´ ë¹¨ê°• | ì´íƒˆ |
| ë¹„ì¦ˆë‹ˆìŠ¤ | ì‹ ê·œ í•™ì› ë¬´í™œë™ | 48ì‹œê°„ | ğŸŸ¡ ë…¸ë‘ | ì£¼ì˜ |
| ë¹„ì¦ˆë‹ˆìŠ¤ | í•™ë¶€ëª¨ ì—´ëŒë¥  | < 30% | ğŸŸ¡ ë…¸ë‘ | ì£¼ì˜ |
| ë¹„ì¦ˆë‹ˆìŠ¤ | í•™ë¶€ëª¨ ì—´ëŒë¥  | < 20% | ğŸ”´ ë¹¨ê°• | ê¸´ê¸‰ |

#### 5.1.3 ë°ì´í„° ì†ŒìŠ¤

```typescript
interface CriticalAlert {
  id: string;
  category: 'system' | 'business';
  severity: 'critical' | 'warning' | 'info';
  title: string;
  description: string;
  timestamp: Date;
  actionButtons: {
    label: string;
    action: string;
    link?: string;
  }[];
}

// ì˜ˆì‹œ
const alerts: CriticalAlert[] = [
  {
    id: 'sys-cpu-001',
    category: 'system',
    severity: 'critical',
    title: 'CPU ì‚¬ìš©ë¥  92.4%',
    description: 'ì„œë²„ ë¶€í•˜ ë†’ìŒ, ì¦‰ì‹œ í™•ì¸ í•„ìš”',
    timestamp: new Date(),
    actionButtons: [
      { label: 'ì‹œìŠ¤í…œ í˜ì´ì§€ë¡œ ì´ë™', action: 'navigate', link: '/system' }
    ]
  }
];
```

---

### 5.2 Section 2: í•µì‹¬ ì§€í‘œ ì¹´ë“œ (4x3 Grid)

#### 5.2.1 Row 1: ë¹„ì¦ˆë‹ˆìŠ¤ ê±´ê°•ë„

##### Card 1-1: í•™ì› í˜„í™©
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ« í•™ì› í˜„í™©          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í™œì„±: 5ê°œ            â”‚
â”‚ ì „ì²´: 13ê°œ           â”‚
â”‚ ì‹ ê·œ: +2ê°œ (30ì¼)    â”‚
â”‚ ì´íƒˆ: 0ê°œ            â”‚
â”‚                      â”‚
â”‚ ğŸ“Š ì„±ì¥ë¥ : +18%      â”‚
â”‚ [â–² ì „ì›” ëŒ€ë¹„]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ìŠ¤í‚¤ë§ˆ**:
```sql
-- í™œì„± í•™ì›: ìµœê·¼ 7ì¼ ë‚´ ë¡œê·¸ì¸
SELECT COUNT(*) FROM academies a
JOIN (
  SELECT DISTINCT academy_id 
  FROM activity_logs 
  WHERE created_at >= NOW() - INTERVAL 7 DAY
) al ON a.id = al.academy_id
WHERE a.is_deleted = 0;

-- ì‹ ê·œ í•™ì› (30ì¼)
SELECT COUNT(*) FROM academies
WHERE created_at >= NOW() - INTERVAL 30 DAY
AND is_deleted = 0;

-- ì´íƒˆ í•™ì› (30ì¼ ì´ìƒ ë¬´í™œë™)
SELECT COUNT(*) FROM academies a
WHERE a.is_deleted = 0
AND NOT EXISTS (
  SELECT 1 FROM activity_logs al
  WHERE al.academy_id = a.id
  AND al.created_at >= NOW() - INTERVAL 30 DAY
);

-- ì„±ì¥ë¥  (ì „ì›” ëŒ€ë¹„)
SELECT 
  ((current_month - last_month) / last_month * 100) as growth_rate
FROM (
  SELECT 
    COUNT(CASE WHEN created_at >= DATE_FORMAT(NOW(), '%Y-%m-01') THEN 1 END) as current_month,
    COUNT(CASE WHEN created_at >= DATE_FORMAT(NOW() - INTERVAL 1 MONTH, '%Y-%m-01') 
               AND created_at < DATE_FORMAT(NOW(), '%Y-%m-01') THEN 1 END) as last_month
  FROM academies
  WHERE is_deleted = 0
) counts;
```

##### Card 1-2: í•™ìƒ í˜„í™©
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¥ í•™ìƒ í˜„í™©          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì´ í•™ìƒ: 32ëª…        â”‚
â”‚ ì „ì›” ëŒ€ë¹„: +4ëª…      â”‚
â”‚ (+14%) â–²             â”‚
â”‚                      â”‚
â”‚ í•™ì›ë‹¹ í‰ê· : 2.5ëª…   â”‚
â”‚ ğŸ“ˆ íŠ¸ë Œë“œ: â†—         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ìŠ¤í‚¤ë§ˆ**:
```sql
-- ì´ í•™ìƒ ìˆ˜
SELECT COUNT(*) FROM students
WHERE is_deleted = 0;

-- ì „ì›” ëŒ€ë¹„ ì¦ê°€
SELECT 
  COUNT(CASE WHEN created_at >= DATE_FORMAT(NOW(), '%Y-%m-01') THEN 1 END) as this_month,
  COUNT(CASE WHEN created_at >= DATE_FORMAT(NOW() - INTERVAL 1 MONTH, '%Y-%m-01') 
             AND created_at < DATE_FORMAT(NOW(), '%Y-%m-01') THEN 1 END) as last_month
FROM students
WHERE is_deleted = 0;

-- í•™ì›ë‹¹ í‰ê·  í•™ìƒ ìˆ˜
SELECT 
  COUNT(*) / COUNT(DISTINCT academy_id) as avg_students_per_academy
FROM students
WHERE is_deleted = 0;
```

##### Card 1-3: ë¦¬í¬íŠ¸ í™œë™
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ë¦¬í¬íŠ¸ í™œë™        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì´ë²ˆ ë‹¬: 59ê±´        â”‚
â”‚ ì „ì›” ëŒ€ë¹„: +12ê±´     â”‚
â”‚ (+25%) â–²             â”‚
â”‚                      â”‚
â”‚ í•™ìƒë‹¹: 1.8ê±´        â”‚
â”‚ ğŸ“Š í‰ê·  ì‹œê°„: 8.8ì‹œê°„â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ìŠ¤í‚¤ë§ˆ**:
```sql
-- ì´ë²ˆ ë‹¬ ë¦¬í¬íŠ¸ ìƒì„± ìˆ˜
SELECT COUNT(*) FROM progress_records
WHERE created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
AND is_deleted = 0;

-- ì „ì›” ëŒ€ë¹„
SELECT 
  COUNT(CASE WHEN created_at >= DATE_FORMAT(NOW(), '%Y-%m-01') THEN 1 END) as this_month,
  COUNT(CASE WHEN created_at >= DATE_FORMAT(NOW() - INTERVAL 1 MONTH, '%Y-%m-01') 
             AND created_at < DATE_FORMAT(NOW(), '%Y-%m-01') THEN 1 END) as last_month
FROM progress_records
WHERE is_deleted = 0;

-- í•™ìƒë‹¹ í‰ê·  ë¦¬í¬íŠ¸ ìˆ˜ (ì´ë²ˆ ë‹¬)
SELECT 
  COUNT(pr.id) / COUNT(DISTINCT pr.student_id) as avg_reports_per_student
FROM progress_records pr
WHERE pr.created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
AND pr.is_deleted = 0;

-- í‰ê·  ë¦¬í¬íŠ¸ ì‘ì„± ì‹œê°„ (ì§„ë„ ê¸°ë¡ â†’ ë¦¬í¬íŠ¸ ìƒì„±)
-- ê°€ì •: ì§„ë„ ê¸°ë¡ë¶€í„° ë¦¬í¬íŠ¸ ìƒì„±ê¹Œì§€ ì†Œìš” ì‹œê°„
SELECT 
  AVG(TIMESTAMPDIFF(SECOND, pr.created_at, pr.updated_at)) / 3600 as avg_hours
FROM progress_records pr
WHERE pr.created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
AND pr.is_deleted = 0;
```

##### Card 1-4: í™œì„±ë„ ì§€í‘œ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”¥ í™œì„±ë„ ì§€í‘œ        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DAU / MAU: 2 / 5     â”‚
â”‚ ê³ ì°©ë„: 40.0%        â”‚
â”‚ (DAU/MAU ë¹„ìœ¨)       â”‚
â”‚                      â”‚
â”‚ ğŸ”´ ì´íƒˆ ìœ„í—˜: 7ê°œ    â”‚
â”‚ ğŸ¯ ëª©í‘œ: 60%         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ìŠ¤í‚¤ë§ˆ**:
```sql
-- DAU (Daily Active Users)
SELECT COUNT(DISTINCT academy_id) as dau
FROM activity_logs
WHERE DATE(created_at) = CURDATE();

-- MAU (Monthly Active Users)
SELECT COUNT(DISTINCT academy_id) as mau
FROM activity_logs
WHERE created_at >= DATE_FORMAT(NOW(), '%Y-%m-01');

-- ê³ ì°©ë„ (Stickiness) = DAU / MAU
SELECT (dau / mau * 100) as stickiness
FROM (
  SELECT 
    COUNT(DISTINCT CASE WHEN DATE(created_at) = CURDATE() THEN academy_id END) as dau,
    COUNT(DISTINCT academy_id) as mau
  FROM activity_logs
  WHERE created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
) metrics;

-- ì´íƒˆ ìœ„í—˜ í•™ì› (7ì¼ ì´ìƒ ë¬´í™œë™)
SELECT COUNT(*) FROM academies a
WHERE a.is_deleted = 0
AND NOT EXISTS (
  SELECT 1 FROM activity_logs al
  WHERE al.academy_id = a.id
  AND al.created_at >= NOW() - INTERVAL 7 DAY
);
```

#### 5.2.2 Row 2: ì‚¬ìš©ì ì°¸ì—¬ & AI íš¨ìœ¨

##### Card 2-1: ì½˜í…ì¸  ìƒì„±
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¨ ì½˜í…ì¸  ìƒì„±        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì¹´ë“œë‰´ìŠ¤: 95ê°œ       â”‚
â”‚ (ìƒì„±ëœ ì´ë¯¸ì§€)      â”‚
â”‚                      â”‚
â”‚ í‰ê·  ìƒì„±/í•™ì›:      â”‚
â”‚ 7.3ê°œ                â”‚
â”‚                      â”‚
â”‚ ğŸ“Š ì„±ì¥ë¥ : +15%      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ìŠ¤í‚¤ë§ˆ (ì‹ ê·œ ìˆ˜ì§‘ í•„ìš”)**:
```sql
-- ì¹´ë“œë‰´ìŠ¤ í…Œì´ë¸”ì´ ì—†ë‹¤ë©´ ë¦¬í¬íŠ¸ ê¸°ë°˜ìœ¼ë¡œ ì¶”ì •
-- ë˜ëŠ” ë³„ë„ card_news í…Œì´ë¸” ìƒì„± í•„ìš”
SELECT COUNT(*) as card_news_count
FROM progress_records
WHERE created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
AND card_news_generated = 1;  -- ì»¬ëŸ¼ ì¶”ê°€ í•„ìš”

-- í•™ì›ë‹¹ í‰ê· 
SELECT 
  COUNT(*) / COUNT(DISTINCT academy_id) as avg_per_academy
FROM progress_records
WHERE created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
AND card_news_generated = 1;
```

**í•„ìš”í•œ DB ë³€ê²½**:
```sql
-- progress_records í…Œì´ë¸”ì— ì»¬ëŸ¼ ì¶”ê°€
ALTER TABLE progress_records 
ADD COLUMN card_news_generated BOOLEAN DEFAULT 0 COMMENT 'ì¹´ë“œë‰´ìŠ¤ ìƒì„± ì—¬ë¶€';
```

##### Card 2-2: í•™ë¶€ëª¨ ë„ë‹¬
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¤ í•™ë¶€ëª¨ ë„ë‹¬        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë¦¬í¬íŠ¸ ê³µìœ : 54íšŒ    â”‚
â”‚ í•™ë¶€ëª¨ ì—´ëŒ: 41íšŒ    â”‚
â”‚ ì—´ëŒë¥ : 33.3%        â”‚
â”‚                      â”‚
â”‚ ğŸ”´ ëª©í‘œ: 60%         â”‚
â”‚ (í˜„ì¬: 33.3%)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ìŠ¤í‚¤ë§ˆ (ì‹ ê·œ ìˆ˜ì§‘ í•„ìš”)**:
```sql
-- report_shares í…Œì´ë¸” í™œìš©
SELECT COUNT(*) as share_count
FROM report_shares
WHERE created_at >= DATE_FORMAT(NOW(), '%Y-%m-01');

-- report_views í…Œì´ë¸” (ì‹ ê·œ ìƒì„± í•„ìš”)
SELECT COUNT(*) as view_count
FROM report_views
WHERE created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
AND viewer_type = 'parent';

-- ì—´ëŒë¥ 
SELECT 
  (views / shares * 100) as view_rate
FROM (
  SELECT 
    COUNT(DISTINCT rs.id) as shares,
    COUNT(DISTINCT rv.id) as views
  FROM report_shares rs
  LEFT JOIN report_views rv ON rs.share_token = rv.share_token
  WHERE rs.created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
) metrics;
```

**í•„ìš”í•œ DB ë³€ê²½**:
```sql
-- report_views í…Œì´ë¸” ìƒì„±
CREATE TABLE report_views (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  report_id INT NOT NULL,
  share_token VARCHAR(100),
  viewer_type ENUM('parent', 'public', 'academy') DEFAULT 'parent',
  view_duration_seconds INT COMMENT 'ì²´ë¥˜ ì‹œê°„ (ì´ˆ)',
  ip_address VARCHAR(45),
  user_agent TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX idx_report_id (report_id),
  INDEX idx_share_token (share_token),
  INDEX idx_created_at (created_at),
  FOREIGN KEY (report_id) REFERENCES progress_records(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

##### Card 2-3: AI íš¨ìœ¨ì„±
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– AI íš¨ìœ¨ì„±          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AI ë¦¬í¬íŠ¸: 59ê±´      â”‚
â”‚ ì‹œê°„ ì ˆê°: 8.8ì‹œê°„   â”‚
â”‚ (90ë¶„ â†’ 9ë¶„)         â”‚
â”‚                      â”‚
â”‚ í•™ì›ë‹¹: 11.8ê±´       â”‚
â”‚ ë™ì˜ ì™„ë£Œ: 100%      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ìŠ¤í‚¤ë§ˆ**:
```sql
-- AIë¡œ ìƒì„±ëœ ë¦¬í¬íŠ¸ ìˆ˜ (progress_records ê¸°ì¤€)
SELECT COUNT(*) as ai_report_count
FROM progress_records
WHERE created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
AND ai_feedback IS NOT NULL;

-- ì‹œê°„ ì ˆê° ê³„ì‚°
-- ê°€ì •: ìˆ˜ë™ ì‘ì„± ì‹œ 90ë¶„, AI ì‚¬ìš© ì‹œ 9ë¶„
SELECT 
  COUNT(*) * ((90 - 9) / 60) as hours_saved
FROM progress_records
WHERE created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
AND ai_feedback IS NOT NULL;

-- í•™ì›ë‹¹ í‰ê· 
SELECT 
  COUNT(*) / COUNT(DISTINCT academy_id) as avg_per_academy
FROM progress_records
WHERE created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
AND ai_feedback IS NOT NULL;

-- ë³´í˜¸ì ë™ì˜ ì™„ë£Œìœ¨
SELECT 
  (COUNT(CASE WHEN consent_status = 'approved' THEN 1 END) / COUNT(*) * 100) as consent_rate
FROM students s
LEFT JOIN consent_requests cr ON s.id = cr.student_id
WHERE s.is_deleted = 0;
```

##### Card 2-4: ì „í™˜ í¼ë„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¯ ì „í™˜ í¼ë„          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í•™ì› ê°€ì…: 13ê°œ      â”‚
â”‚ â†“ í•™ìƒ ë“±ë¡: 13ê°œ    â”‚
â”‚ â†“ ì²« ë¦¬í¬íŠ¸: 13ê°œ    â”‚
â”‚ â†“ ì¹´í†¡ ê³µìœ : 8ê°œ     â”‚
â”‚                      â”‚
â”‚ ì „í™˜ìœ¨: 61.5%        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ìŠ¤í‚¤ë§ˆ (ì‹ ê·œ ìˆ˜ì§‘ í•„ìš”)**:
```sql
-- ì‹ ê·œ í•™ì› ì „í™˜ í¼ë„ (ìµœê·¼ 30ì¼)
SELECT 
  COUNT(DISTINCT a.id) as total_signups,
  COUNT(DISTINCT CASE WHEN s.id IS NOT NULL THEN a.id END) as has_students,
  COUNT(DISTINCT CASE WHEN pr.id IS NOT NULL THEN a.id END) as created_report,
  COUNT(DISTINCT CASE WHEN rs.id IS NOT NULL THEN a.id END) as shared_kakaotalk
FROM academies a
LEFT JOIN students s ON a.id = s.academy_id AND s.is_deleted = 0
LEFT JOIN progress_records pr ON s.id = pr.student_id AND pr.is_deleted = 0
LEFT JOIN report_shares rs ON pr.id = rs.progress_record_id
WHERE a.created_at >= NOW() - INTERVAL 30 DAY
AND a.is_deleted = 0;

-- ìµœì¢… ì „í™˜ìœ¨ (ì¹´í†¡ ê³µìœ ê¹Œì§€ ì™„ë£Œ)
SELECT 
  (shared / signups * 100) as conversion_rate
FROM (
  SELECT 
    COUNT(DISTINCT a.id) as signups,
    COUNT(DISTINCT CASE WHEN rs.id IS NOT NULL THEN a.id END) as shared
  FROM academies a
  LEFT JOIN students s ON a.id = s.academy_id
  LEFT JOIN progress_records pr ON s.id = pr.student_id
  LEFT JOIN report_shares rs ON pr.id = rs.progress_record_id
  WHERE a.created_at >= NOW() - INTERVAL 30 DAY
) funnel;
```

#### 5.2.3 Row 3: ìˆ˜ìµí™” & ì‹œìŠ¤í…œ

##### Card 3-1: ìˆ˜ìµí™” ì¤€ë¹„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’° ìˆ˜ìµí™” ì¤€ë¹„        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í—¤ë¹„ìœ ì €: 1ê°œ        â”‚
â”‚ (ì›” 20ê±´+ ë¦¬í¬íŠ¸)    â”‚
â”‚                      â”‚
â”‚ í—¤ë¹„ìœ ì € ë¹„ìœ¨:       â”‚
â”‚ 20.0%                â”‚
â”‚                      â”‚
â”‚ ì˜ˆìƒ MRR:            â”‚
â”‚ â‚©199,200             â”‚
â”‚ (Standard Ã— 8)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ìŠ¤í‚¤ë§ˆ**:
```sql
-- í—¤ë¹„ìœ ì € ì •ì˜: ì›” 20ê±´ ì´ìƒ ë¦¬í¬íŠ¸ ìƒì„±
SELECT COUNT(DISTINCT academy_id) as heavy_users
FROM (
  SELECT academy_id, COUNT(*) as report_count
  FROM progress_records
  WHERE created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
  AND is_deleted = 0
  GROUP BY academy_id
  HAVING COUNT(*) >= 20
) heavy;

-- í—¤ë¹„ìœ ì € ë¹„ìœ¨
SELECT 
  (heavy_users / total_users * 100) as heavy_user_rate
FROM (
  SELECT 
    COUNT(DISTINCT CASE WHEN report_count >= 20 THEN academy_id END) as heavy_users,
    COUNT(DISTINCT academy_id) as total_users
  FROM (
    SELECT academy_id, COUNT(*) as report_count
    FROM progress_records
    WHERE created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
    AND is_deleted = 0
    GROUP BY academy_id
  ) user_reports
) metrics;

-- ì˜ˆìƒ MRR (Monthly Recurring Revenue)
-- ê°€ì •: Standard í”Œëœ â‚©24,900 Ã— 8ê°œ í•™ì›
SELECT 
  COUNT(DISTINCT academy_id) * 24900 as estimated_mrr
FROM progress_records
WHERE created_at >= DATE_FORMAT(NOW(), '%Y-%m-01')
AND is_deleted = 0;
```

##### Card 3-2: ë¹„ìš© í˜„í™©
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¸ ë¹„ìš© í˜„í™©          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì´ë²ˆ ë‹¬: â‚©73,940     â”‚
â”‚ ì•Œë¦¼í†¡: â‚©52,800      â”‚
â”‚ Claude: â‚©14,200      â”‚
â”‚ ì„œë²„: â‚©19,440        â”‚
â”‚                      â”‚
â”‚ í•™ì›ë‹¹: â‚©5,688       â”‚
â”‚                      â”‚
â”‚ ğŸ¯ ì†ìµë¶„ê¸°: 3ê°œ í•™ì› â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ìŠ¤í‚¤ë§ˆ (ì‹ ê·œ ìˆ˜ì§‘ í•„ìš”)**:
```sql
-- operational_costs í…Œì´ë¸” ìƒì„±
CREATE TABLE operational_costs (
  id INT PRIMARY KEY AUTO_INCREMENT,
  cost_type ENUM('alimtalk', 'claude_api', 'server', 'domain', 'other') NOT NULL,
  amount DECIMAL(10, 2) NOT NULL,
  currency VARCHAR(3) DEFAULT 'KRW',
  description TEXT,
  billing_month DATE NOT NULL COMMENT 'í•´ë‹¹ ì›” (YYYY-MM-01)',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  INDEX idx_billing_month (billing_month),
  INDEX idx_cost_type (cost_type)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- ì´ë²ˆ ë‹¬ ì´ ë¹„ìš©
SELECT SUM(amount) as total_cost
FROM operational_costs
WHERE billing_month = DATE_FORMAT(NOW(), '%Y-%m-01');

-- ë¹„ìš© í•­ëª©ë³„ ì§‘ê³„
SELECT 
  cost_type,
  SUM(amount) as cost
FROM operational_costs
WHERE billing_month = DATE_FORMAT(NOW(), '%Y-%m-01')
GROUP BY cost_type;

-- í•™ì›ë‹¹ í‰ê·  ë¹„ìš©
SELECT 
  total_cost / academy_count as cost_per_academy
FROM (
  SELECT 
    SUM(amount) as total_cost,
    (SELECT COUNT(*) FROM academies WHERE is_deleted = 0) as academy_count
  FROM operational_costs
  WHERE billing_month = DATE_FORMAT(NOW(), '%Y-%m-01')
) metrics;

-- ì†ìµë¶„ê¸°ì  ê³„ì‚°
-- Standard í”Œëœ â‚©24,900 ê°€ì •
SELECT CEIL(total_cost / 24900) as breakeven_academies
FROM (
  SELECT SUM(amount) as total_cost
  FROM operational_costs
  WHERE billing_month = DATE_FORMAT(NOW(), '%Y-%m-01')
) costs;
```

##### Card 3-3: ì‹œìŠ¤í…œ ê±´ê°•
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ ì‹œìŠ¤í…œ ê±´ê°•        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CPU: 92.4% ğŸ”´        â”‚
â”‚ RAM: 43.3% ğŸŸ¢        â”‚
â”‚ Disk: 85.0% ğŸŸ¡       â”‚
â”‚                      â”‚
â”‚ ğŸ”´ Backend ì¬ì‹œì‘    â”‚
â”‚ 102íšŒ (ì£¼ì˜)         â”‚
â”‚                      â”‚
â”‚ ğŸ¯ ëª©í‘œ CPU: 60%     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ì†ŒìŠ¤**: ê¸°ì¡´ ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ API í™œìš©
```bash
# CPU, RAM, Disk ì‚¬ìš©ë¥ 
GET /api/admin/system/resources

# PM2 í”„ë¡œì„¸ìŠ¤ ìƒíƒœ
GET /api/admin/system/pm2

# Backend ì¬ì‹œì‘ íšŸìˆ˜
GET /api/admin/system/restarts?period=week
```

**ì‹œìŠ¤í…œ í—¬ìŠ¤ ë¡œê·¸ í…Œì´ë¸” (ì„ íƒì )**:
```sql
CREATE TABLE system_health_logs (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  cpu_usage DECIMAL(5, 2),
  ram_usage DECIMAL(5, 2),
  disk_usage DECIMAL(5, 2),
  active_connections INT,
  response_time_ms INT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX idx_created_at (created_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

##### Card 3-4: API ìƒíƒœ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒ API ìƒíƒœ           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Claude: ğŸŸ¢ ì •ìƒ      â”‚
â”‚ ì¹´ì¹´ì˜¤: ğŸŸ¡ ì£¼ì˜      â”‚
â”‚                      â”‚
â”‚ ê°€ë™ì‹œê°„:            â”‚
â”‚ 99ì¼ 22ì‹œê°„          â”‚
â”‚                      â”‚
â”‚ ì‘ë‹µì‹œê°„: 1.2s       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ì†ŒìŠ¤**: ê¸°ì¡´ API ë˜ëŠ” ì‹ ê·œ í—¬ìŠ¤ì²´í¬
```sql
-- API ìƒíƒœ ë¡œê·¸ (ì„ íƒì )
CREATE TABLE api_health_checks (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  api_name ENUM('claude', 'kakao', 'gemini') NOT NULL,
  status ENUM('success', 'error', 'timeout') NOT NULL,
  response_time_ms INT,
  error_message TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX idx_api_name (api_name),
  INDEX idx_created_at (created_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- API ìƒíƒœ ì²´í¬ (ìµœê·¼ 1ì‹œê°„)
SELECT 
  api_name,
  AVG(response_time_ms) as avg_response_time,
  COUNT(CASE WHEN status = 'success' THEN 1 END) / COUNT(*) * 100 as success_rate
FROM api_health_checks
WHERE created_at >= NOW() - INTERVAL 1 HOUR
GROUP BY api_name;
```

---

### 5.3 Section 3: ì ‘ì—ˆë‹¤ í¼ì¹˜ê¸° í…Œì´ë¸”

#### 5.3.1 ì´íƒˆ ìœ„í—˜ í•™ì› (ê¸°ë³¸ í¼ì¹¨)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¼ ì´íƒˆ ìœ„í—˜ í•™ì› (7ê°œ)                                [CSV ë‹¤ìš´ë¡œë“œ]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í•™ì›ëª…         ì›ì¥     í•™ìƒ  ë¦¬í¬íŠ¸  ë§ˆì§€ë§‰ í™œë™   ë¹„í™œì„± ê¸°ê°„  ìƒíƒœ â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ìŒì•…í•™ì›       -        3     7      2025.12.12   23ì¼        ğŸ”´  â”‚
â”‚                         [í•™ì› ìƒì„¸ â†’] [ì•Œë¦¼ ë³´ë‚´ê¸° â†’]              â”‚
â”‚                                                                    â”‚
â”‚ ìµœì¢…ë ˆìŠ¤íŠ¸í•™ì›  ë°°í¬í…ŒìŠ¤íŠ¸ 1    1      2025.12.24   11ì¼        ğŸŸ¡  â”‚
â”‚                         [í•™ì› ìƒì„¸ â†’] [ì•Œë¦¼ ë³´ë‚´ê¸° â†’]              â”‚
â”‚ ...                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ìŠ¤í‚¤ë§ˆ**:
```sql
SELECT 
  a.id,
  a.name as academy_name,
  a.owner_name,
  COUNT(DISTINCT s.id) as student_count,
  COUNT(DISTINCT pr.id) as report_count,
  MAX(al.created_at) as last_activity,
  DATEDIFF(NOW(), MAX(al.created_at)) as inactive_days,
  CASE 
    WHEN DATEDIFF(NOW(), MAX(al.created_at)) >= 21 THEN 'critical'
    WHEN DATEDIFF(NOW(), MAX(al.created_at)) >= 14 THEN 'warning'
    WHEN DATEDIFF(NOW(), MAX(al.created_at)) >= 7 THEN 'caution'
  END as risk_level
FROM academies a
LEFT JOIN students s ON a.id = s.academy_id AND s.is_deleted = 0
LEFT JOIN progress_records pr ON s.id = pr.student_id AND pr.is_deleted = 0
LEFT JOIN activity_logs al ON a.id = al.academy_id
WHERE a.is_deleted = 0
AND NOT EXISTS (
  SELECT 1 FROM activity_logs al2
  WHERE al2.academy_id = a.id
  AND al2.created_at >= NOW() - INTERVAL 7 DAY
)
GROUP BY a.id
ORDER BY inactive_days DESC;
```

#### 5.3.2 í™œì„± í•™ì› ìƒì„¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¼ í™œì„± í•™ì› ìƒì„¸ (5ê°œ)                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ í•™ì›ëª…      í•™ìƒ  ë¦¬í¬íŠ¸  DAU  ìµœê·¼ í™œë™      í—¤ë¹„ìœ ì €  ì˜ˆìƒ í”Œëœ â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ OOí”¼ì•„ë…¸     8     24    5ì¼   ì˜¤ëŠ˜ 10:30    âœ…      Pro        â”‚
â”‚ ...                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ìŠ¤í‚¤ë§ˆ**:
```sql
SELECT 
  a.id,
  a.name as academy_name,
  COUNT(DISTINCT s.id) as student_count,
  COUNT(DISTINCT pr.id) as report_count,
  COUNT(DISTINCT DATE(al.created_at)) as dau,
  MAX(al.created_at) as last_activity,
  CASE WHEN COUNT(DISTINCT pr.id) >= 20 THEN 'Yes' ELSE 'No' END as is_heavy_user,
  CASE 
    WHEN COUNT(DISTINCT s.id) >= 50 THEN 'Pro'
    WHEN COUNT(DISTINCT s.id) >= 25 THEN 'Standard'
    ELSE 'Free'
  END as recommended_plan
FROM academies a
JOIN students s ON a.id = s.academy_id AND s.is_deleted = 0
LEFT JOIN progress_records pr ON s.id = pr.student_id AND pr.created_at >= DATE_FORMAT(NOW(), '%Y-%m-01') AND pr.is_deleted = 0
JOIN activity_logs al ON a.id = al.academy_id
WHERE a.is_deleted = 0
AND al.created_at >= NOW() - INTERVAL 7 DAY
GROUP BY a.id
ORDER BY report_count DESC;
```

#### 5.3.3 ì˜¨ë³´ë”© í¼ë„ ë¶„ì„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¼ ì˜¨ë³´ë”© í¼ë„ ë¶„ì„                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë‹¨ê³„                 ì™„ë£Œ í•™ì›    ë¹„ìœ¨     ì´íƒˆ í•™ì›              â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ 1. ê°€ì…              13ê°œ        100%     -                     â”‚
â”‚ 2. í•™ìƒ 1ëª… ë“±ë¡     13ê°œ        100%     0ê°œ                   â”‚
â”‚ 3. ì²« ë¦¬í¬íŠ¸ ìƒì„±    13ê°œ        100%     0ê°œ                   â”‚
â”‚ 4. ì²« ì¹´í†¡ ê³µìœ       8ê°œ         61.5%    5ê°œ ğŸŸ¡                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°ì´í„° ìŠ¤í‚¤ë§ˆ**:
```sql
-- ìµœê·¼ 30ì¼ ì‹ ê·œ í•™ì› ì˜¨ë³´ë”© í¼ë„
WITH new_academies AS (
  SELECT id FROM academies
  WHERE created_at >= NOW() - INTERVAL 30 DAY
  AND is_deleted = 0
)
SELECT 
  '1. ê°€ì…' as stage,
  (SELECT COUNT(*) FROM new_academies) as completed,
  100.0 as completion_rate,
  0 as churned
UNION ALL
SELECT 
  '2. í•™ìƒ 1ëª… ë“±ë¡',
  COUNT(DISTINCT a.id),
  (COUNT(DISTINCT a.id) / (SELECT COUNT(*) FROM new_academies) * 100),
  ((SELECT COUNT(*) FROM new_academies) - COUNT(DISTINCT a.id))
FROM new_academies a
JOIN students s ON a.id = s.academy_id AND s.is_deleted = 0
UNION ALL
SELECT 
  '3. ì²« ë¦¬í¬íŠ¸ ìƒì„±',
  COUNT(DISTINCT a.id),
  (COUNT(DISTINCT a.id) / (SELECT COUNT(*) FROM new_academies) * 100),
  ((SELECT COUNT(*) FROM new_academies) - COUNT(DISTINCT a.id))
FROM new_academies a
JOIN students s ON a.id = s.academy_id
JOIN progress_records pr ON s.id = pr.student_id
UNION ALL
SELECT 
  '4. ì²« ì¹´í†¡ ê³µìœ ',
  COUNT(DISTINCT a.id),
  (COUNT(DISTINCT a.id) / (SELECT COUNT(*) FROM new_academies) * 100),
  ((SELECT COUNT(*) FROM new_academies) - COUNT(DISTINCT a.id))
FROM new_academies a
JOIN students s ON a.id = s.academy_id
JOIN progress_records pr ON s.id = pr.student_id
JOIN report_shares rs ON pr.id = rs.progress_record_id;
```

---

### 5.4 Section 4: ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš¡ ë¹ ë¥¸ ì•¡ì…˜                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ“§ ì´íƒˆ í•™ì› ì¼ê´„ ë©”ì¼]  [ğŸ”„ Backend ì¬ì‹œì‘]                    â”‚
â”‚ [ğŸ“Š ì›”ê°„ ë¦¬í¬íŠ¸ PDF]     [â• ì‹ ê·œ í•™ì› ì´ˆëŒ€ ë§í¬]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ê¸°ëŠ¥ ìŠ¤í™**:

1. **ì´íƒˆ í•™ì› ì¼ê´„ ë©”ì¼**
   - API: `POST /api/admin/actions/send-churn-emails`
   - ì´íƒˆ ìœ„í—˜ í•™ì› ëª©ë¡ì„ ìë™ìœ¼ë¡œ ê°€ì ¸ì™€ ì¼ê´„ ë©”ì¼ ë°œì†¡
   - ë©”ì¼ í…œí”Œë¦¿: "ì˜¤ëœë§Œì´ì—ìš”! TutorNote ì–´ë–»ê²Œ í™œìš©í•˜ê³  ê³„ì‹ ê°€ìš”?"

2. **Backend ì¬ì‹œì‘**
   - API: `POST /api/admin/actions/restart-backend`
   - PM2ë¥¼ í†µí•œ ì•ˆì „í•œ ì¬ì‹œì‘
   - í™•ì¸ ëª¨ë‹¬ í‘œì‹œ

3. **ì›”ê°„ ë¦¬í¬íŠ¸ PDF**
   - API: `GET /api/admin/actions/generate-monthly-report-pdf`
   - í˜„ì¬ ëŒ€ì‹œë³´ë“œë¥¼ PDFë¡œ ì €ì¥
   - ì´ë©”ì¼ ë°œì†¡ ì˜µì…˜

4. **ì‹ ê·œ í•™ì› ì´ˆëŒ€ ë§í¬**
   - API: `GET /api/admin/actions/generate-invite-link`
   - ì¶”ì²œ ì½”ë“œê°€ í¬í•¨ëœ íšŒì›ê°€ì… ë§í¬ ìƒì„±
   - í´ë¦½ë³´ë“œ ë³µì‚¬

---

## 6. ë°ì´í„° ìˆ˜ì§‘ ë°©ë²•

### 6.1 í•„ìš”í•œ DB ìŠ¤í‚¤ë§ˆ ì¶”ê°€/ìˆ˜ì •

#### 6.1.1 ì‹ ê·œ í…Œì´ë¸” ìƒì„±

##### `activity_logs` (ì‚¬ìš©ì í™œë™ ë¡œê·¸)
```sql
CREATE TABLE activity_logs (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  academy_id INT NOT NULL,
  user_id INT,
  action_type VARCHAR(50) NOT NULL COMMENT 'login, create_report, share_kakaotalk, etc.',
  action_detail JSON COMMENT 'ì•¡ì…˜ ìƒì„¸ ì •ë³´',
  ip_address VARCHAR(45),
  user_agent TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX idx_academy_id (academy_id),
  INDEX idx_created_at (created_at),
  INDEX idx_action_type (action_type),
  INDEX idx_academy_created (academy_id, created_at),
  FOREIGN KEY (academy_id) REFERENCES academies(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

##### `report_views` (í•™ë¶€ëª¨ ë¦¬í¬íŠ¸ ì—´ëŒ ì¶”ì )
```sql
CREATE TABLE report_views (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  report_id INT NOT NULL,
  share_token VARCHAR(100),
  viewer_type ENUM('parent', 'public', 'academy') DEFAULT 'parent',
  view_duration_seconds INT COMMENT 'ì²´ë¥˜ ì‹œê°„ (ì´ˆ)',
  ip_address VARCHAR(45),
  user_agent TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX idx_report_id (report_id),
  INDEX idx_share_token (share_token),
  INDEX idx_created_at (created_at),
  FOREIGN KEY (report_id) REFERENCES progress_records(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

##### `api_usage_logs` (API ì‚¬ìš©ëŸ‰ ì¶”ì )
```sql
CREATE TABLE api_usage_logs (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  api_name ENUM('claude', 'gemini', 'kakao') NOT NULL,
  academy_id INT,
  endpoint VARCHAR(255),
  request_tokens INT,
  response_tokens INT,
  total_cost DECIMAL(10, 4),
  response_time_ms INT,
  status VARCHAR(20) DEFAULT 'success',
  error_message TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX idx_api_name (api_name),
  INDEX idx_academy_id (academy_id),
  INDEX idx_created_at (created_at),
  INDEX idx_api_created (api_name, created_at),
  FOREIGN KEY (academy_id) REFERENCES academies(id) ON DELETE SET NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

##### `operational_costs` (ìš´ì˜ ë¹„ìš© ì¶”ì )
```sql
CREATE TABLE operational_costs (
  id INT PRIMARY KEY AUTO_INCREMENT,
  cost_type ENUM('alimtalk', 'claude_api', 'server', 'domain', 'other') NOT NULL,
  amount DECIMAL(10, 2) NOT NULL,
  currency VARCHAR(3) DEFAULT 'KRW',
  description TEXT,
  billing_month DATE NOT NULL COMMENT 'í•´ë‹¹ ì›” (YYYY-MM-01)',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  INDEX idx_billing_month (billing_month),
  INDEX idx_cost_type (cost_type)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

##### `system_health_logs` (ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬)
```sql
CREATE TABLE system_health_logs (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  cpu_usage DECIMAL(5, 2),
  ram_usage DECIMAL(5, 2),
  disk_usage DECIMAL(5, 2),
  active_connections INT,
  response_time_ms INT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX idx_created_at (created_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

##### `api_health_checks` (API í—¬ìŠ¤ì²´í¬)
```sql
CREATE TABLE api_health_checks (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  api_name ENUM('claude', 'kakao', 'gemini') NOT NULL,
  status ENUM('success', 'error', 'timeout') NOT NULL,
  response_time_ms INT,
  error_message TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX idx_api_name (api_name),
  INDEX idx_created_at (created_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

#### 6.1.2 ê¸°ì¡´ í…Œì´ë¸” ìˆ˜ì •

##### `progress_records` í…Œì´ë¸”ì— ì»¬ëŸ¼ ì¶”ê°€
```sql
ALTER TABLE progress_records 
ADD COLUMN ai_generated BOOLEAN DEFAULT 0 COMMENT 'AIë¡œ ìƒì„±ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€',
ADD COLUMN generation_time_seconds INT COMMENT 'ë¦¬í¬íŠ¸ ìƒì„± ì†Œìš” ì‹œê°„',
ADD COLUMN edit_count INT DEFAULT 0 COMMENT 'ìˆ˜ì • íšŸìˆ˜ (AI í’ˆì§ˆ ì§€í‘œ)',
ADD COLUMN card_news_generated BOOLEAN DEFAULT 0 COMMENT 'ì¹´ë“œë‰´ìŠ¤ ìƒì„± ì—¬ë¶€';
```

---

### 6.2 ë°ì´í„° ìˆ˜ì§‘ êµ¬í˜„

#### 6.2.1 í™œë™ ë¡œê·¸ ìˆ˜ì§‘ (Middleware)

**Backend: `middleware/activity_logger.py`**
```python
from flask import request, g
from datetime import datetime
import json

def log_activity(action_type, action_detail=None):
    """í™œë™ ë¡œê·¸ ì €ì¥"""
    try:
        academy_id = g.get('academy_id')
        user_id = g.get('user_id')
        
        if not academy_id:
            return
        
        conn = get_db_connection()
        cursor = conn.cursor()
        
        cursor.execute("""
            INSERT INTO activity_logs 
            (academy_id, user_id, action_type, action_detail, ip_address, user_agent)
            VALUES (%s, %s, %s, %s, %s, %s)
        """, (
            academy_id,
            user_id,
            action_type,
            json.dumps(action_detail) if action_detail else None,
            request.remote_addr,
            request.user_agent.string
        ))
        
        conn.commit()
        cursor.close()
        conn.close()
        
    except Exception as e:
        print(f"Activity log error: {e}")

# ì‚¬ìš© ì˜ˆì‹œ
@app.route('/api/reports', methods=['POST'])
@login_required
def create_report():
    # ... ë¦¬í¬íŠ¸ ìƒì„± ë¡œì§ ...
    
    log_activity('create_report', {
        'report_id': report_id,
        'student_id': student_id,
        'ai_generated': True
    })
    
    return jsonify({'success': True})
```

**ì ìš© ëŒ€ìƒ ì—”ë“œí¬ì¸íŠ¸**:
- `/api/auth/login` â†’ `log_activity('login')`
- `/api/reports` (POST) â†’ `log_activity('create_report')`
- `/api/reports/share` â†’ `log_activity('share_kakaotalk')`
- `/api/students` (POST) â†’ `log_activity('create_student')`
- `/api/attendance/check-in` â†’ `log_activity('check_in')`

#### 6.2.2 í•™ë¶€ëª¨ ì—´ëŒ ì¶”ì 

**TutorNote Frontend: `pages/share/[token].tsx`**
```typescript
// í•™ë¶€ëª¨ê°€ ê³µìœ  í˜ì´ì§€ ì§„ì… ì‹œ
useEffect(() => {
  const trackView = async () => {
    const startTime = Date.now();
    
    // í˜ì´ì§€ ì§„ì… ê¸°ë¡
    await fetch(`/api/reports/track-view`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        share_token: token,
        viewer_type: 'parent'
      })
    });
    
    // í˜ì´ì§€ ì´íƒˆ ì‹œ ì²´ë¥˜ ì‹œê°„ ê¸°ë¡
    return () => {
      const duration = Math.floor((Date.now() - startTime) / 1000);
      
      // Beacon APIë¡œ í˜ì´ì§€ ì´íƒˆ ì‹œì—ë„ ì „ì†¡ ë³´ì¥
      navigator.sendBeacon(
        '/api/reports/track-duration',
        JSON.stringify({ share_token: token, duration })
      );
    };
  };
  
  trackView();
}, [token]);
```

**Backend: `routes/reports.py`**
```python
@app.route('/api/reports/track-view', methods=['POST'])
def track_view():
    data = request.json
    share_token = data.get('share_token')
    viewer_type = data.get('viewer_type', 'parent')
    
    conn = get_db_connection()
    cursor = conn.cursor()
    
    # ë¦¬í¬íŠ¸ ID ì¡°íšŒ
    cursor.execute("""
        SELECT progress_record_id FROM report_shares
        WHERE share_token = %s AND is_active = 1
    """, (share_token,))
    
    result = cursor.fetchone()
    if not result:
        return jsonify({'error': 'Invalid token'}), 404
    
    report_id = result[0]
    
    # ì—´ëŒ ê¸°ë¡ ì €ì¥
    cursor.execute("""
        INSERT INTO report_views
        (report_id, share_token, viewer_type, ip_address, user_agent)
        VALUES (%s, %s, %s, %s, %s)
    """, (
        report_id,
        share_token,
        viewer_type,
        request.remote_addr,
        request.user_agent.string
    ))
    
    conn.commit()
    cursor.close()
    conn.close()
    
    return jsonify({'success': True})

@app.route('/api/reports/track-duration', methods=['POST'])
def track_duration():
    data = request.json
    share_token = data.get('share_token')
    duration = data.get('duration')
    
    conn = get_db_connection()
    cursor = conn.cursor()
    
    # ìµœê·¼ ì—´ëŒ ê¸°ë¡ ì—…ë°ì´íŠ¸
    cursor.execute("""
        UPDATE report_views
        SET view_duration_seconds = %s
        WHERE share_token = %s
        ORDER BY created_at DESC
        LIMIT 1
    """, (duration, share_token))
    
    conn.commit()
    cursor.close()
    conn.close()
    
    return '', 204  # No Content
```

#### 6.2.3 Claude API ì‚¬ìš©ëŸ‰ ì¶”ì 

**Backend: `utils/claude_api.py`**
```python
import anthropic
import time
from decimal import Decimal
import os

def generate_feedback_with_tracking(prompt, academy_id):
    """Claude API í˜¸ì¶œ + ì‚¬ìš©ëŸ‰ ì¶”ì """
    client = anthropic.Anthropic(api_key=os.environ.get("ANTHROPIC_API_KEY"))
    
    start_time = time.time()
    
    try:
        response = client.messages.create(
            model="claude-sonnet-4-20250514",
            max_tokens=1000,
            messages=[{"role": "user", "content": prompt}]
        )
        
        response_time_ms = int((time.time() - start_time) * 1000)
        
        # í† í° ì‚¬ìš©ëŸ‰ ê³„ì‚°
        input_tokens = response.usage.input_tokens
        output_tokens = response.usage.output_tokens
        
        # ë¹„ìš© ê³„ì‚° (Claude Sonnet 4 ê°€ê²© ê¸°ì¤€)
        # Input: $3 per 1M tokens, Output: $15 per 1M tokens
        input_cost = Decimal(input_tokens) * Decimal('3') / Decimal('1000000')
        output_cost = Decimal(output_tokens) * Decimal('15') / Decimal('1000000')
        total_cost = input_cost + output_cost
        
        # ì‚¬ìš©ëŸ‰ ë¡œê·¸ ì €ì¥
        conn = get_db_connection()
        cursor = conn.cursor()
        
        cursor.execute("""
            INSERT INTO api_usage_logs
            (api_name, academy_id, endpoint, request_tokens, response_tokens, 
             total_cost, response_time_ms, status)
            VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
        """, (
            'claude',
            academy_id,
            '/v1/messages',
            input_tokens,
            output_tokens,
            float(total_cost),
            response_time_ms,
            'success'
        ))
        
        conn.commit()
        cursor.close()
        conn.close()
        
        return response.content[0].text
        
    except Exception as e:
        # ì—ëŸ¬ ë¡œê·¸ ì €ì¥
        response_time_ms = int((time.time() - start_time) * 1000)
        
        conn = get_db_connection()
        cursor = conn.cursor()
        
        cursor.execute("""
            INSERT INTO api_usage_logs
            (api_name, academy_id, endpoint, response_time_ms, status, error_message)
            VALUES (%s, %s, %s, %s, %s, %s)
        """, (
            'claude',
            academy_id,
            '/v1/messages',
            response_time_ms,
            'error',
            str(e)
        ))
        
        conn.commit()
        cursor.close()
        conn.close()
        
        raise e

# ê¸°ì¡´ ì½”ë“œ ìˆ˜ì •
# AS-IS
# feedback = client.messages.create(...)

# TO-BE
feedback = generate_feedback_with_tracking(prompt, academy_id)
```

#### 6.2.4 ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬ (Cron Job)

**ì„œë²„: `scripts/health_check.py`**
```python
#!/usr/bin/env python3
import psutil
import mysql.connector
import time
import os
from dotenv import load_dotenv

load_dotenv()

def collect_system_metrics():
    """ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ìˆ˜ì§‘"""
    
    # CPU, RAM, Disk ì‚¬ìš©ë¥ 
    cpu_usage = psutil.cpu_percent(interval=1)
    ram = psutil.virtual_memory()
    ram_usage = ram.percent
    disk = psutil.disk_usage('/')
    disk_usage = disk.percent
    
    # DB ì—°ê²° ìˆ˜ (MySQL ê¸°ì¤€)
    try:
        net_connections = len([
            conn for conn in psutil.net_connections()
            if conn.status == 'ESTABLISHED' and conn.laddr.port == 3306
        ])
    except:
        net_connections = 0
    
    # DBì— ì €ì¥
    try:
        conn = mysql.connector.connect(
            host=os.getenv('DB_HOST'),
            user=os.getenv('DB_USER'),
            password=os.getenv('DB_PASSWORD'),
            database=os.getenv('DB_NAME')
        )
        cursor = conn.cursor()
        
        cursor.execute("""
            INSERT INTO system_health_logs
            (cpu_usage, ram_usage, disk_usage, active_connections)
            VALUES (%s, %s, %s, %s)
        """, (cpu_usage, ram_usage, disk_usage, net_connections))
        
        conn.commit()
        cursor.close()
        conn.close()
        
        print(f"[{time.strftime('%Y-%m-%d %H:%M:%S')}] CPU: {cpu_usage}%, RAM: {ram_usage}%, Disk: {disk_usage}%")
    except Exception as e:
        print(f"[ERROR] {e}")

if __name__ == '__main__':
    collect_system_metrics()
```

**Crontab ì„¤ì •**:
```bash
# /etc/crontab ë˜ëŠ” crontab -e

# 5ë¶„ë§ˆë‹¤ ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬ ì‹¤í–‰
*/5 * * * * /usr/bin/python3 /home/tutornote/scripts/health_check.py >> /var/log/tutornote/health_check.log 2>&1
```

**Python psutil ì„¤ì¹˜**:
```bash
pip install psutil python-dotenv --break-system-packages
```

---

### 6.3 ë°ì´í„° ì§‘ê³„ ë°°ì¹˜ ì‘ì—… (ì„ íƒì )

#### 6.3.1 ì¼ì¼ ì§‘ê³„ (Daily Aggregation)

**ì„œë²„: `scripts/daily_aggregation.py`**
```python
#!/usr/bin/env python3
"""
ì¼ì¼ ì§‘ê³„: DAU, ì‹ ê·œ í•™ì›, ë¦¬í¬íŠ¸ ìƒì„± ìˆ˜ ë“±
ë§¤ì¼ ìƒˆë²½ 2ì‹œ ì‹¤í–‰
"""

import mysql.connector
from datetime import datetime, timedelta
import os
from dotenv import load_dotenv

load_dotenv()

def aggregate_daily_metrics():
    conn = mysql.connector.connect(
        host=os.getenv('DB_HOST'),
        user=os.getenv('DB_USER'),
        password=os.getenv('DB_PASSWORD'),
        database=os.getenv('DB_NAME')
    )
    cursor = conn.cursor()
    
    yesterday = (datetime.now() - timedelta(days=1)).strftime('%Y-%m-%d')
    
    # DAU ê³„ì‚°
    cursor.execute("""
        SELECT COUNT(DISTINCT academy_id) as dau
        FROM activity_logs
        WHERE DATE(created_at) = %s
    """, (yesterday,))
    dau = cursor.fetchone()[0] or 0
    
    # ì‹ ê·œ í•™ì› ìˆ˜
    cursor.execute("""
        SELECT COUNT(*) as new_academies
        FROM academies
        WHERE DATE(created_at) = %s
        AND is_deleted = 0
    """, (yesterday,))
    new_academies = cursor.fetchone()[0] or 0
    
    # ë¦¬í¬íŠ¸ ìƒì„± ìˆ˜
    cursor.execute("""
        SELECT COUNT(*) as reports_created
        FROM progress_records
        WHERE DATE(created_at) = %s
        AND is_deleted = 0
    """, (yesterday,))
    reports_created = cursor.fetchone()[0] or 0
    
    print(f"[{datetime.now()}] Daily aggregation completed for {yesterday}")
    print(f"  DAU: {dau}, New Academies: {new_academies}, Reports: {reports_created}")
    
    cursor.close()
    conn.close()

if __name__ == '__main__':
    aggregate_daily_metrics()
```

**Crontab ì„¤ì •**:
```bash
# ë§¤ì¼ ìƒˆë²½ 2ì‹œì— ì¼ì¼ ì§‘ê³„ ì‹¤í–‰
0 2 * * * /usr/bin/python3 /home/tutornote/scripts/daily_aggregation.py >> /var/log/tutornote/daily_aggregation.log 2>&1
```

---

## 7. êµ¬í˜„ ì „ëµ ë° ìš´ì˜ ê³„íš

### 10.1 Pre-work: êµ¬í˜„ ì‹œì‘ ì „ ì¤€ë¹„ ì‘ì—…

êµ¬í˜„ ì‹œì‘ ì „ ë°˜ë“œì‹œ ì™„ë£Œí•´ì•¼ í•  ê¸°ë°˜ ì‘ì—…ì…ë‹ˆë‹¤. ì´ ì‘ì—…ë“¤ì´ ì™„ë£Œë˜ì–´ì•¼ Phase 1ì„ ì•ˆì •ì ìœ¼ë¡œ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 7.1.1 Alert ì¤‘ë³µ ë°©ì§€ ë¡œì§

**ëª©ì **: 5ë¶„ë§ˆë‹¤ í—¬ìŠ¤ì²´í¬ê°€ ì‹¤í–‰ë˜ë©´ì„œ ê°™ì€ Critical Alertê°€ ë°˜ë³µ ë°œì†¡ë˜ëŠ” ê²ƒì„ ë°©ì§€

**êµ¬í˜„ íŒŒì¼**: `backend/utils/alert_deduplicator.py`

**í•µì‹¬ ë¡œì§**:
```python
from datetime import datetime, timedelta
from typing import Dict, Optional

class AlertDeduplicator:
    """
    Alert ì¤‘ë³µ ë°œì†¡ ë°©ì§€ í´ë˜ìŠ¤
    ê°™ì€ ì•Œë¦¼ì„ ì„¤ì •ëœ ì‹œê°„(ê¸°ë³¸ 60ë¶„) ë‚´ì—ëŠ” ì¬ë°œì†¡í•˜ì§€ ì•ŠìŒ
    """
    
    def __init__(self):
        self._sent_alerts: Dict[str, datetime] = {}
    
    def should_send_alert(self, alert_key: str, cooldown_minutes: int = 60) -> bool:
        """
        ì•Œë¦¼ ë°œì†¡ ì—¬ë¶€ ê²°ì •
        
        Args:
            alert_key: ì•Œë¦¼ ê³ ìœ  í‚¤ (ì˜ˆ: "cpu_critical_92.4", "backend_restart_102")
            cooldown_minutes: ì¬ë°œì†¡ ë°©ì§€ ì‹œê°„ (ë¶„)
        
        Returns:
            bool: Trueë©´ ë°œì†¡, Falseë©´ Skip
        """
        now = datetime.now()
        
        if alert_key in self._sent_alerts:
            last_sent = self._sent_alerts[alert_key]
            elapsed = (now - last_sent).total_seconds() / 60
            
            if elapsed < cooldown_minutes:
                print(f"Alert '{alert_key}' skipped (sent {elapsed:.1f}m ago)")
                return False
        
        # ë°œì†¡ í—ˆìš© - ì‹œê°„ ê¸°ë¡
        self._sent_alerts[alert_key] = now
        return True
    
    def reset_alert(self, alert_key: str):
        """íŠ¹ì • ì•Œë¦¼ ì¦‰ì‹œ ì¬ë°œì†¡ ê°€ëŠ¥í•˜ë„ë¡ ë¦¬ì…‹"""
        if alert_key in self._sent_alerts:
            del self._sent_alerts[alert_key]
    
    def clear_old_alerts(self, hours: int = 24):
        """24ì‹œê°„ ì´ìƒ ì˜¤ë˜ëœ ì•Œë¦¼ ê¸°ë¡ ì‚­ì œ (ë©”ëª¨ë¦¬ ê´€ë¦¬)"""
        now = datetime.now()
        keys_to_delete = []
        
        for key, sent_time in self._sent_alerts.items():
            if (now - sent_time).total_seconds() > hours * 3600:
                keys_to_delete.append(key)
        
        for key in keys_to_delete:
            del self._sent_alerts[key]


# ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤
alert_deduplicator = AlertDeduplicator()
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```python
from utils.alert_deduplicator import alert_deduplicator
from utils.telegram_notifier import telegram_notifier

def check_cpu_alert():
    cpu_usage = psutil.cpu_percent(interval=1)
    
    if cpu_usage > 90:
        alert_key = f"cpu_critical_{cpu_usage:.1f}"
        
        # ì¤‘ë³µ ì²´í¬ - 60ë¶„ ë‚´ ê°™ì€ CPU ì‚¬ìš©ë¥  ì•Œë¦¼ Skip
        if alert_deduplicator.should_send_alert(alert_key, cooldown_minutes=60):
            telegram_notifier.send_critical_alert({
                'severity': 'critical',
                'title': f'CPU ì‚¬ìš©ë¥  ìœ„í—˜: {cpu_usage}%',
                'description': f'í˜„ì¬ CPU ì‚¬ìš©ë¥ ì´ {cpu_usage}%ë¡œ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤.',
                'action': 'Backend ì¬ì‹œì‘ ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.'
            })
```

---

#### 7.1.2 Alert ì„ê³„ê°’ Config íŒŒì¼

**ëª©ì **: í•˜ë“œì½”ë”©ëœ ì„ê³„ê°’ì„ ì„¤ì • íŒŒì¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ìš´ì˜ ì¤‘ ì¡°ì • ê°€ëŠ¥

**êµ¬í˜„ íŒŒì¼**: `backend/config/alert_thresholds.py`

```python
"""
Alert ì„ê³„ê°’ ì„¤ì •
ìš´ì˜ ì¤‘ ì´ íŒŒì¼ì„ ìˆ˜ì •í•˜ê³  ì„œë²„ ì¬ì‹œì‘í•˜ë©´ ì¦‰ì‹œ ë°˜ì˜ë¨
"""

# ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ì„ê³„ê°’
SYSTEM_THRESHOLDS = {
    'cpu': {
        'warning': 80,      # % - ì£¼ì˜ (ë…¸ë‘)
        'critical': 90,     # % - ìœ„í—˜ (ë¹¨ê°•)
    },
    'ram': {
        'warning': 80,      # %
        'critical': 90,     # %
    },
    'disk': {
        'warning': 80,      # %
        'critical': 90,     # %
    },
    'backend_restart': {
        'warning': 50,      # íšŸìˆ˜/ì¼
        'critical': 100,    # íšŸìˆ˜/ì¼
    }
}

# ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ ì„ê³„ê°’
BUSINESS_THRESHOLDS = {
    'inactive_days': {
        'warning': 14,      # ì¼
        'critical': 30,     # ì¼ (í™˜ë¶ˆ ê°€ëŠ¥ ê¸°ê°„)
    },
    'parent_view_rate': {
        'warning': 30,      # % - í•™ë¶€ëª¨ ì—´ëŒë¥ 
    },
    'daily_active_rate': {
        'warning': 40,      # % - DAU/MAU ë¹„ìœ¨
    }
}

# Alert ì¤‘ë³µ ë°©ì§€ ì‹œê°„ (ë¶„)
ALERT_COOLDOWN = {
    'cpu_critical': 60,         # CPU ìœ„í—˜ ì•Œë¦¼ì€ 1ì‹œê°„ë§ˆë‹¤
    'cpu_warning': 120,         # CPU ì£¼ì˜ ì•Œë¦¼ì€ 2ì‹œê°„ë§ˆë‹¤
    'backend_restart': 30,      # Backend ì¬ì‹œì‘ì€ 30ë¶„ë§ˆë‹¤
    'inactive_academy': 1440,   # ë¬´í™œë™ í•™ì›ì€ 1ì¼(24ì‹œê°„)ë§ˆë‹¤
    'parent_view_rate': 720,    # í•™ë¶€ëª¨ ì—´ëŒë¥ ì€ 12ì‹œê°„ë§ˆë‹¤
}

# í…”ë ˆê·¸ë¨ ì•Œë¦¼ ì„¤ì •
TELEGRAM_NOTIFICATION = {
    'enabled': True,
    'send_daily_summary': True,     # ì¼ì¼ ìš”ì•½ ë°œì†¡ ì—¬ë¶€
    'daily_summary_time': '09:00',  # ë°œì†¡ ì‹œê°„ (KST)
}


def get_threshold(category: str, metric: str, level: str) -> int:
    """
    ì„ê³„ê°’ ê°€ì ¸ì˜¤ê¸°
    
    Args:
        category: 'system' ë˜ëŠ” 'business'
        metric: 'cpu', 'ram', 'inactive_days' ë“±
        level: 'warning' ë˜ëŠ” 'critical'
    
    Returns:
        int: ì„ê³„ê°’
    
    Examples:
        >>> get_threshold('system', 'cpu', 'critical')
        90
        >>> get_threshold('business', 'inactive_days', 'warning')
        14
    """
    if category == 'system':
        return SYSTEM_THRESHOLDS.get(metric, {}).get(level, 0)
    elif category == 'business':
        return BUSINESS_THRESHOLDS.get(metric, {}).get(level, 0)
    else:
        raise ValueError(f"Unknown category: {category}")


def get_cooldown(alert_type: str) -> int:
    """Alert ì¤‘ë³µ ë°©ì§€ ì‹œê°„(ë¶„) ê°€ì ¸ì˜¤ê¸°"""
    return ALERT_COOLDOWN.get(alert_type, 60)  # ê¸°ë³¸ 60ë¶„
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```python
from config.alert_thresholds import get_threshold, get_cooldown

# ì„ê³„ê°’ ê°€ì ¸ì˜¤ê¸°
cpu_critical = get_threshold('system', 'cpu', 'critical')  # 90
inactive_warning = get_threshold('business', 'inactive_days', 'warning')  # 14

# Cooldown ì‹œê°„ ê°€ì ¸ì˜¤ê¸°
cooldown = get_cooldown('cpu_critical')  # 60ë¶„

# Alert ì²´í¬
if cpu_usage > cpu_critical:
    if alert_deduplicator.should_send_alert('cpu_critical', cooldown):
        send_telegram_alert(...)
```

---

#### 7.1.3 í…”ë ˆê·¸ë¨ ë°°í¬ ì•Œë¦¼ ê¸°ëŠ¥

**ëª©ì **: Phaseë³„ êµ¬í˜„ ì™„ë£Œ ë° ë°°í¬ ì™„ë£Œ ì‹œ í…”ë ˆê·¸ë¨ìœ¼ë¡œ ìë™ ì•Œë¦¼

**êµ¬í˜„ íŒŒì¼**: `backend/utils/deployment_notifier.py`

```python
import os
from datetime import datetime
from typing import List, Dict
from utils.telegram_notifier import telegram_notifier

class DeploymentNotifier:
    """ë°°í¬ ë° Phase ì™„ë£Œ ì•Œë¦¼"""
    
    @staticmethod
    def notify_phase_complete(phase: str, completed_tasks: List[str]):
        """
        Phase ì™„ë£Œ ì‹œ í…”ë ˆê·¸ë¨ ì•Œë¦¼
        
        Args:
            phase: "Phase 1: ê¸´ê¸‰ ìˆ˜ì •" ë“±
            completed_tasks: ["DB ìŠ¤í‚¤ë§ˆ ìƒì„±", "Claude API ì¶”ì "] ë“±
        """
        message = f"""
âœ… **{phase} êµ¬í˜„ ì™„ë£Œ!**

**ì™„ë£Œëœ ì‘ì—…**:
"""
        for i, task in enumerate(completed_tasks, 1):
            message += f"  {i}. âœ“ {task}\n"
        
        message += f"\nâ° {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}"
        message += f"\n\nğŸš€ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤."
        
        telegram_notifier.send_message(message)
    
    @staticmethod
    def notify_deployment_start(environment: str, version: str):
        """ë°°í¬ ì‹œì‘ ì•Œë¦¼"""
        message = f"""
ğŸ”µ **Master Admin ë°°í¬ ì‹œì‘**

**í™˜ê²½**: {environment}
**ë²„ì „**: {version}
**ì‹œì‘ ì‹œê°„**: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}

ë°°í¬ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤...
"""
        telegram_notifier.send_message(message)
    
    @staticmethod
    def notify_deployment_complete(
        environment: str, 
        version: str, 
        changes: List[str],
        dashboard_url: str = "https://tma.tutornote.kr"
    ):
        """
        ë°°í¬ ì™„ë£Œ ì‹œ í…”ë ˆê·¸ë¨ ì•Œë¦¼
        
        Args:
            environment: "Staging" ë˜ëŠ” "Production"
            version: "v1.1.0" ë“±
            changes: ["Critical Alerts ì¶”ê°€", "12ê°œ ì§€í‘œ í†µí•©"] ë“±
            dashboard_url: ëŒ€ì‹œë³´ë“œ URL
        """
        emoji = "ğŸŸ¢" if environment == "Production" else "ğŸŸ¡"
        
        message = f"""
{emoji} **Master Admin ë°°í¬ ì™„ë£Œ**

**í™˜ê²½**: {environment}
**ë²„ì „**: {version}
**ë°°í¬ ì‹œê°„**: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}

**ì£¼ìš” ë³€ê²½ì‚¬í•­**:
"""
        for i, change in enumerate(changes, 1):
            message += f"  {i}. {change}\n"
        
        message += f"\nğŸ”— [ëŒ€ì‹œë³´ë“œ ë°”ë¡œê°€ê¸°]({dashboard_url})"
        message += f"\n\nâœ… ë°°í¬ê°€ ì •ìƒì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."
        
        telegram_notifier.send_message(message)
    
    @staticmethod
    def notify_deployment_failed(environment: str, version: str, error: str):
        """ë°°í¬ ì‹¤íŒ¨ ì•Œë¦¼"""
        message = f"""
ğŸ”´ **Master Admin ë°°í¬ ì‹¤íŒ¨**

**í™˜ê²½**: {environment}
**ë²„ì „**: {version}
**ì‹¤íŒ¨ ì‹œê°„**: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}

**ì—ëŸ¬ ë‚´ìš©**:
```
{error}
```

âš ï¸ ì¦‰ì‹œ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.
"""
        telegram_notifier.send_message(message)


# ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤
deployment_notifier = DeploymentNotifier()
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```python
from utils.deployment_notifier import deployment_notifier

# Phase ì™„ë£Œ ì•Œë¦¼
deployment_notifier.notify_phase_complete(
    "Phase 1: ê¸´ê¸‰ ìˆ˜ì •",
    [
        "DB ìŠ¤í‚¤ë§ˆ 5ê°œ í…Œì´ë¸” ìƒì„±",
        "Claude API ì‚¬ìš©ëŸ‰ ì¶”ì  ë¡œì§",
        "í™œë™ ë¡œê·¸ ë¯¸ë“¤ì›¨ì–´",
        "ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬ Cron",
        "Critical Alerts UI"
    ]
)

# ë°°í¬ ì‹œì‘ ì•Œë¦¼
deployment_notifier.notify_deployment_start("Production", "v1.1.0")

# ë°°í¬ ì™„ë£Œ ì•Œë¦¼
deployment_notifier.notify_deployment_complete(
    "Production",
    "v1.1.0",
    [
        "Critical Alerts ìµœìƒë‹¨ ë°°ì¹˜",
        "12ê°œ í•µì‹¬ ì§€í‘œ í†µí•©",
        "ë°ì´í„° ì •í•©ì„± ê°œì„ ",
        "í…”ë ˆê·¸ë¨ ì•Œë¦¼ ì—°ë™"
    ]
)
```

---

#### 7.1.4 Staging í™˜ê²½ ì…‹ì—… ê°€ì´ë“œ

**ëª©ì **: í”„ë¡œë•ì…˜ ë°°í¬ ì „ ì•ˆì „í•˜ê²Œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” í™˜ê²½ êµ¬ì¶•

**í•„ìš” ë¦¬ì†ŒìŠ¤**:
1. **Staging DB**
   - í”„ë¡œë•ì…˜ DB ë³µì‚¬ë³¸ (ìµëª…í™” í•„ìš” ì—†ìŒ - ë‚´ë¶€ í…ŒìŠ¤íŠ¸ìš©)
   - ëª…ëª… ê·œì¹™: `tutornote_staging`

2. **Staging ì„œë²„**
   - Option A: ë³„ë„ í¬íŠ¸ ì‚¬ìš© (ì˜ˆ: 3005)
   - Option B: ì„œë¸Œë„ë©”ì¸ (ì˜ˆ: `staging.tma.tutornote.kr`)
   - **ì¶”ì²œ**: Option A (ê°„ë‹¨í•¨, ë¹„ìš© ì ˆê°)

3. **Staging í™˜ê²½ë³€ìˆ˜**
   ```bash
   # .env.staging
   NODE_ENV=staging
   DATABASE_URL=mysql://user:pass@localhost:3306/tutornote_staging
   TELEGRAM_CHAT_ID=staging_test_chat_id  # í”„ë¡œë•ì…˜ê³¼ ë¶„ë¦¬
   MASTER_ADMIN_URL=http://localhost:3005
   ```

**Staging ë°°í¬ í”„ë¡œì„¸ìŠ¤**:
```bash
# 1. Staging DB ìƒì„± (í”„ë¡œë•ì…˜ ë³µì‚¬)
mysqldump -u root -p tutornote > backup.sql
mysql -u root -p -e "CREATE DATABASE tutornote_staging;"
mysql -u root -p tutornote_staging < backup.sql

# 2. Staging ì„œë²„ ì‹¤í–‰
cd /home/tutornote/frontend
npm run build
PM2_HOME=/home/tutornote/.pm2 pm2 start npm --name "tutornote-admin-staging" -- start -- -p 3005

# 3. Nginx ì„¤ì • (ì„ íƒì )
# location /staging/ {
#     proxy_pass http://localhost:3005/;
# }

# 4. ì ‘ì† í…ŒìŠ¤íŠ¸
curl http://localhost:3005/api/admin/dashboard/overview
```

**Staging í…”ë ˆê·¸ë¨ í…ŒìŠ¤íŠ¸ ì±„ë„ ìƒì„±**:
1. í…”ë ˆê·¸ë¨ì—ì„œ ìƒˆ ê·¸ë£¹ ìƒì„±: "TutorNote Admin Staging"
2. ê¸°ì¡´ ë´‡ì„ ê·¸ë£¹ì— ì¶”ê°€
3. Chat ID í™•ì¸: `https://api.telegram.org/bot{BOT_TOKEN}/getUpdates`
4. `.env.staging`ì— Chat ID ì„¤ì •

---

### 10.2 ë°°í¬ ì „ëµ: Phase 1+2 í†µí•© ë°°í¬

**ì„ íƒí•œ ì „ëµ**: Option A (Phase 1+2 ì™„ë£Œ í›„ í•œë²ˆì— ë°°í¬, Phase 3ì€ ë³„ë„ ë°°í¬)

**ì´ìœ **:
- Phase 1ê³¼ Phase 2ëŠ” ê¸°ëŠ¥ì ìœ¼ë¡œ ê°•í•˜ê²Œ ì—°ê²°ë¨ (DB ìŠ¤í‚¤ë§ˆ â†’ ë°ì´í„° ìˆ˜ì§‘ â†’ UI í‘œì‹œ)
- ì¤‘ê°„ì— ë°°í¬í•˜ë©´ "ë°˜ìª½ì§œë¦¬ ëŒ€ì‹œë³´ë“œ" ìƒíƒœê°€ ë˜ì–´ í˜¼ë€ ì´ˆë˜
- Phase 3ëŠ” ì„ íƒì  ê³ ë„í™” ê¸°ëŠ¥ì´ë¯€ë¡œ ì•ˆì •í™” í›„ ì¶”ê°€ ë°°í¬ ê°€ëŠ¥

**ë°°í¬ íƒ€ì„ë¼ì¸**:
```
Week 1-3: Phase 1+2 ê°œë°œ
  â”œâ”€ Week 1: Phase 1 (ê¸´ê¸‰ ìˆ˜ì •)
  â”œâ”€ Week 2-3: Phase 2 (í•µì‹¬ ì§€í‘œ ì¬êµ¬ì„±)
  â””â”€ Day 15: Staging ë°°í¬ â†’ 2ì¼ê°„ ê²€ì¦
     
Week 3 Day 17: Phase 1+2 í”„ë¡œë•ì…˜ ë°°í¬ ğŸš€
  â”œâ”€ ë°°í¬ ì „: DB ë°±ì—…, í™˜ê²½ë³€ìˆ˜ í™•ì¸
  â”œâ”€ ë°°í¬: 30ë¶„ ì „ ê³µì§€, ë°°í¬ ì‹œê°„ 30ë¶„ ì´ë‚´
  â”œâ”€ ë°°í¬ í›„: 1ì‹œê°„ ëª¨ë‹ˆí„°ë§
  â””â”€ í…”ë ˆê·¸ë¨ ì™„ë£Œ ì•Œë¦¼ ë°œì†¡ âœ…

Week 4: ì•ˆì •í™” ê¸°ê°„ (1ì£¼ì¼)
  â”œâ”€ ì¼ì¼ ëª¨ë‹ˆí„°ë§ (CPU, ì—ëŸ¬ ë¡œê·¸, í…”ë ˆê·¸ë¨ ì•Œë¦¼)
  â”œâ”€ ë²„ê·¸ ìˆ˜ì • ë° í•«í”½ìŠ¤
  â””â”€ ë°ì´í„° ì •í•©ì„± ê²€ì¦

Week 5-6: Phase 3 ê°œë°œ
  â”œâ”€ ì¼ì¼/ì›”ê°„ ì§‘ê³„ ë°°ì¹˜
  â”œâ”€ PDF ë‚´ë³´ë‚´ê¸°
  â”œâ”€ ì‹œê³„ì—´ ì°¨íŠ¸
  â””â”€ ëª¨ë°”ì¼ ë°˜ì‘í˜•

Week 6 Day 35: Phase 3 í”„ë¡œë•ì…˜ ë°°í¬ ğŸš€
  â””â”€ í…”ë ˆê·¸ë¨ ì™„ë£Œ ì•Œë¦¼ ë°œì†¡ âœ…
```

---

### 10.3 ë°ì´í„° ë°±í•„ ê³„íš: Option C (ì‹œì‘ì¼ ë¼ë²¨ í‘œì‹œ)

**ì„ íƒí•œ ì „ëµ**: Option C - ê³¼ê±° ë°ì´í„° ì—†ì´ ìƒˆë¡œ ì‹œì‘í•˜ë˜, "ë°ì´í„° ìˆ˜ì§‘ ì‹œì‘ì¼" ëª…í™•íˆ í‘œì‹œ

**ì´ìœ **:
- ê¹”ë”í•˜ê³  ì •ì§í•œ ë°©ë²•
- ë°±í•„ ì‘ì—… ì‹œê°„ ì ˆì•½ (ì¶”ì • 20ì‹œê°„ ì ˆì•½)
- 2-4ì£¼ë©´ ì¶©ë¶„í•œ ë°ì´í„° ì¶•ì ë¨

**UI êµ¬í˜„ ë°©ë²•**:

**1) ëŒ€ì‹œë³´ë“œ ìƒë‹¨ì— Info ë°°ë„ˆ í‘œì‹œ**:
```tsx
// components/dashboard/DataCollectionBanner.tsx
export function DataCollectionBanner() {
  const startDate = "2026-01-15";  // ì‹¤ì œ ë°ì´í„° ìˆ˜ì§‘ ì‹œì‘ì¼
  const daysElapsed = Math.floor(
    (Date.now() - new Date(startDate).getTime()) / (1000 * 60 * 60 * 24)
  );
  
  return (
    <div className="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
      <div className="flex items-center gap-2">
        <Info className="w-5 h-5 text-blue-600" />
        <div className="text-sm text-blue-800">
          <strong>ë°ì´í„° ìˆ˜ì§‘ ì‹œì‘:</strong> {startDate} (D+{daysElapsed}ì¼ì§¸)
          <span className="ml-2 text-blue-600">
            â€¢ ì¶©ë¶„í•œ ë°ì´í„° ì¶•ì ê¹Œì§€ 2-4ì£¼ ì†Œìš” ì˜ˆìƒ
          </span>
        </div>
      </div>
    </div>
  );
}
```

**2) ê°œë³„ ì§€í‘œ ì¹´ë“œì— íˆ´íŒ ì¶”ê°€**:
```tsx
// components/dashboard/MetricCard.tsx
<div className="metric-card">
  <div className="flex items-center justify-between">
    <h3>{title}</h3>
    <TooltipProvider>
      <Tooltip>
        <TooltipTrigger>
          <Info className="w-4 h-4 text-gray-400" />
        </TooltipTrigger>
        <TooltipContent>
          2026-01-15ë¶€í„° ìˆ˜ì§‘ëœ ë°ì´í„°ì…ë‹ˆë‹¤.
        </TooltipContent>
      </Tooltip>
    </TooltipProvider>
  </div>
  <div className="value">{value}</div>
</div>
```

**3) 2ì£¼ í›„ ìë™ìœ¼ë¡œ ë°°ë„ˆ ìˆ¨ê¹€**:
```tsx
// ë°ì´í„° ìˆ˜ì§‘ 14ì¼ ê²½ê³¼ ì‹œ ë°°ë„ˆ ìë™ ìˆ¨ê¹€
if (daysElapsed > 14) {
  return null;  // ë°°ë„ˆ ìˆ¨ê¹€
}
```

---

### 9.4 Pre-work ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

êµ¬í˜„ ì‹œì‘ ì „ ë°˜ë“œì‹œ í™•ì¸:

- [ ] **Alert ì¤‘ë³µ ë°©ì§€ ë¡œì§** êµ¬í˜„ ì™„ë£Œ
  - [ ] `utils/alert_deduplicator.py` ì‘ì„±
  - [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í†µê³¼
  
- [ ] **Alert ì„ê³„ê°’ Config** êµ¬í˜„ ì™„ë£Œ
  - [ ] `config/alert_thresholds.py` ì‘ì„±
  - [ ] í™˜ê²½ë³€ìˆ˜ ë˜ëŠ” íŒŒì¼ ìˆ˜ì •ìœ¼ë¡œ ì¡°ì • ê°€ëŠ¥ í™•ì¸
  
- [ ] **í…”ë ˆê·¸ë¨ ë°°í¬ ì•Œë¦¼** êµ¬í˜„ ì™„ë£Œ
  - [ ] `utils/deployment_notifier.py` ì‘ì„±
  - [ ] Phase ì™„ë£Œ ì•Œë¦¼ í…ŒìŠ¤íŠ¸
  - [ ] ë°°í¬ ì™„ë£Œ ì•Œë¦¼ í…ŒìŠ¤íŠ¸
  
- [ ] **Staging í™˜ê²½** ì…‹ì—… ì™„ë£Œ
  - [ ] Staging DB ìƒì„± (tutornote_staging)
  - [ ] Staging ì„œë²„ ì‹¤í–‰ (í¬íŠ¸ 3005)
  - [ ] Staging í…”ë ˆê·¸ë¨ ì±„ë„ ìƒì„± ë° Chat ID ì„¤ì •
  - [ ] `.env.staging` í™˜ê²½ë³€ìˆ˜ ì„¤ì •
  
- [ ] **ê¸°ì¡´ í”„ë¡œë•ì…˜ ë°±ì—…**
  - [ ] DB ë°±ì—… (`mysqldump tutornote > backup_20260115.sql`)
  - [ ] ì½”ë“œ ë°±ì—… (Git íƒœê·¸: `v1.0.0`)
  
- [ ] **í…”ë ˆê·¸ë¨ ë´‡ ì„¤ì •** í™•ì¸
  - [ ] `TELEGRAM_BOT_TOKEN` í™˜ê²½ë³€ìˆ˜ ì„¤ì •
  - [ ] `TELEGRAM_CHAT_ID` (í”„ë¡œë•ì…˜) ì„¤ì •
  - [ ] í…ŒìŠ¤íŠ¸ ë©”ì‹œì§€ ë°œì†¡ ì„±ê³µ

**Pre-work ì™„ë£Œ ì‹œ í…”ë ˆê·¸ë¨ ì•Œë¦¼**:
```python
deployment_notifier.notify_phase_complete(
    "Pre-work: êµ¬í˜„ ì¤€ë¹„",
    [
        "Alert ì¤‘ë³µ ë°©ì§€ ë¡œì§",
        "Alert ì„ê³„ê°’ Config",
        "í…”ë ˆê·¸ë¨ ë°°í¬ ì•Œë¦¼ ê¸°ëŠ¥",
        "Staging í™˜ê²½ ì…‹ì—…",
        "í”„ë¡œë•ì…˜ ë°±ì—… ì™„ë£Œ"
    ]
)
```

---

## 8. êµ¬í˜„ ë‹¨ê³„ë³„ ê³„íš

### 10.1 Phase 1: ê¸´ê¸‰ ìˆ˜ì • (1ì£¼ì¼)

**ëª©í‘œ**: ë°ì´í„° ì •í•©ì„± í™•ë³´ ë° Critical Alerts ì¶”ê°€

#### Week 1 Tasks

| ìˆœë²ˆ | ì‘ì—… | ë‹´ë‹¹ | ì†Œìš” ì‹œê°„ | ìš°ì„ ìˆœìœ„ |
|------|------|------|----------|----------|
| 1.1 | DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ë° ìƒì„± (5ê°œ í…Œì´ë¸”) | Backend Dev | 3h | ê¸´ê¸‰ |
| 1.2 | Claude API ì‚¬ìš©ëŸ‰ ì¶”ì  ë¡œì§ êµ¬í˜„ | Backend Dev | 4h | ê¸´ê¸‰ |
| 1.3 | í™œë™ ë¡œê·¸ middleware êµ¬í˜„ | Backend Dev | 3h | ê¸´ê¸‰ |
| 1.4 | ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬ cron job êµ¬í˜„ | DevOps | 2h | ê¸´ê¸‰ |
| 1.5 | Critical Alerts ì„¹ì…˜ UI êµ¬í˜„ | Frontend Dev | 6h | ê¸´ê¸‰ |
| 1.6 | Alert Rule ë¡œì§ êµ¬í˜„ | Backend Dev | 4h | ê¸´ê¸‰ |
| 1.7 | ê¸°ì¡´ "ì¸ì‚¬ì´íŠ¸ ì§€í‘œ" ë©”ë‰´ ìˆ¨ê¹€ ì²˜ë¦¬ | Frontend Dev | 1h | ì¤‘ê°„ |
| 1.8 | ë°ì´í„° ì •í•©ì„± ê²€ì¦ ë° ìˆ˜ì • | Backend Dev | 3h | ê¸´ê¸‰ |

**ì´ ì†Œìš” ì‹œê°„**: 26ì‹œê°„ (ì•½ 3-4ì¼)

**ì™„ë£Œ ê¸°ì¤€ (Definition of Done)**:
- âœ… Claude API ì‚¬ìš©ëŸ‰ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ëŒ€ì‹œë³´ë“œì— ë°˜ì˜
- âœ… í™œë™ ë¡œê·¸ê°€ ì •í™•í•˜ê²Œ ì €ì¥ë˜ê³  ì¡°íšŒ ê°€ëŠ¥
- âœ… CPU 92.4% ê°™ì€ Critical ìƒí™©ì´ ìµœìƒë‹¨ì— í‘œì‹œ
- âœ… Backend ì¬ì‹œì‘ 102íšŒê°€ ëŒ€ì‹œë³´ë“œì— í‘œì‹œ
- âœ… ëª¨ë“  ë°ì´í„° ì§‘ê³„ ë¡œì§ì´ ì •í™•í•œ ê°’ ë°˜í™˜

---

### 10.2 Phase 2: í•µì‹¬ ì§€í‘œ ì¬êµ¬ì„± (2ì£¼ì¼)

**ëª©í‘œ**: ë¹„ì¦ˆë‹ˆìŠ¤ ì¤‘ì‹¬ ì§€í‘œ ì¹´ë“œ êµ¬í˜„ ë° í…Œì´ë¸” ì¶”ê°€

#### Week 2-3 Tasks

| ìˆœë²ˆ | ì‘ì—… | ë‹´ë‹¹ | ì†Œìš” ì‹œê°„ | ìš°ì„ ìˆœìœ„ |
|------|------|------|----------|----------|
| 2.1 | report_views í…Œì´ë¸” ìƒì„± ë° ì¶”ì  ë¡œì§ | Backend Dev | 4h | ë†’ìŒ |
| 2.2 | operational_costs í…Œì´ë¸” ë° ì…ë ¥ UI | Full Stack | 5h | ë†’ìŒ |
| 2.3 | progress_records ì»¬ëŸ¼ ì¶”ê°€ (4ê°œ) | Backend Dev | 1h | ë†’ìŒ |
| 2.4 | í•™ë¶€ëª¨ ì—´ëŒ ì¶”ì  í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„ | Frontend Dev | 3h | ë†’ìŒ |
| 2.5 | ì˜¨ë³´ë”© í¼ë„ ë°ì´í„° ìˆ˜ì§‘ | Backend Dev | 4h | ë†’ìŒ |
| 2.6 | í•µì‹¬ ì§€í‘œ API 12ê°œ êµ¬í˜„ | Backend Dev | 16h | ë†’ìŒ |
| 2.7 | í•µì‹¬ ì§€í‘œ ì¹´ë“œ 12ê°œ UI êµ¬í˜„ | Frontend Dev | 12h | ë†’ìŒ |
| 2.8 | ì´íƒˆ ìœ„í—˜ í•™ì› í…Œì´ë¸” êµ¬í˜„ | Full Stack | 4h | ë†’ìŒ |
| 2.9 | í™œì„± í•™ì› ìƒì„¸ í…Œì´ë¸” êµ¬í˜„ | Full Stack | 3h | ì¤‘ê°„ |
| 2.10 | ì˜¨ë³´ë”© í¼ë„ ë¶„ì„ í…Œì´ë¸” êµ¬í˜„ | Full Stack | 3h | ì¤‘ê°„ |
| 2.11 | ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼ 4ê°œ êµ¬í˜„ | Full Stack | 6h | ì¤‘ê°„ |
| 2.12 | í†µí•© í…ŒìŠ¤íŠ¸ ë° ë²„ê·¸ ìˆ˜ì • | Full Stack | 8h | ë†’ìŒ |

**ì´ ì†Œìš” ì‹œê°„**: 69ì‹œê°„ (ì•½ 9ì¼)

**ì™„ë£Œ ê¸°ì¤€**:
- âœ… 12ê°œ í•µì‹¬ ì§€í‘œ ì¹´ë“œê°€ ì •í™•í•œ ë°ì´í„° í‘œì‹œ
- âœ… í•™ë¶€ëª¨ ì—´ëŒë¥ ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸
- âœ… ì´íƒˆ ìœ„í—˜ í•™ì› í…Œì´ë¸”ì—ì„œ ë°”ë¡œ ì•¡ì…˜ ê°€ëŠ¥
- âœ… ì˜¨ë³´ë”© í¼ë„ì—ì„œ ë³‘ëª© êµ¬ê°„ ëª…í™•íˆ ë³´ì„
- âœ… ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼ì´ ì‹¤ì œë¡œ ì‘ë™
- âœ… "ì¸ì‚¬ì´íŠ¸ ì§€í‘œ" ë©”ë‰´ ì™„ì „ ì œê±°

---

### 10.3 Phase 3: ê³ ë„í™” (2ì£¼ì¼)

**ëª©í‘œ**: ì˜ˆì¸¡ ëª¨ë¸, ì•Œë¦¼ ì—°ë™, ìƒì„¸ ë¶„ì„ ê¸°ëŠ¥

#### Week 4-5 Tasks

| ìˆœë²ˆ | ì‘ì—… | ë‹´ë‹¹ | ì†Œìš” ì‹œê°„ | ìš°ì„ ìˆœìœ„ |
|------|------|------|----------|----------|
| 3.1 | ì¼ì¼/ì›”ê°„ ì§‘ê³„ ë°°ì¹˜ ì‘ì—… | Backend Dev | 4h | ì¤‘ê°„ |
| 3.2 | ì´íƒˆ ê°€ëŠ¥ì„± ì˜ˆì¸¡ ëª¨ë¸ (ê·œì¹™ ê¸°ë°˜) | Backend Dev | 6h | ë‚®ìŒ |
| 3.3 | Critical Alert â†’ í…”ë ˆê·¸ë¨ ì•Œë¦¼ ì—°ë™ | Backend Dev | 3h | ì¤‘ê°„ |
| 3.4 | ëŒ€ì‹œë³´ë“œ CSV/PDF ë‚´ë³´ë‚´ê¸° | Full Stack | 5h | ë‚®ìŒ |
| 3.5 | ì‹œê³„ì—´ ì°¨íŠ¸ (DAU, ë¦¬í¬íŠ¸ ì¶”ì´) | Frontend Dev | 6h | ë‚®ìŒ |
| 3.6 | ëª¨ë°”ì¼ ë°˜ì‘í˜• ìµœì í™” | Frontend Dev | 8h | ì¤‘ê°„ |
| 3.7 | ì„±ëŠ¥ ìµœì í™” (ì¿¼ë¦¬, ì¸ë±ìŠ¤) | Backend Dev | 6h | ì¤‘ê°„ |
| 3.8 | Redis ìºì‹± ë„ì… (ì„ íƒì ) | Backend Dev | 8h | ë‚®ìŒ |
| 3.9 | ìµœì¢… í†µí•© í…ŒìŠ¤íŠ¸ ë° QA | Full Stack | 6h | ë†’ìŒ |

**ì´ ì†Œìš” ì‹œê°„**: 53ì‹œê°„ (ì•½ 7ì¼)

**ì™„ë£Œ ê¸°ì¤€**:
- âœ… ë§¤ì¼ ìë™ìœ¼ë¡œ ì§‘ê³„ ì‘ì—… ì‹¤í–‰
- âœ… Critical Alert ë°œìƒ ì‹œ í…”ë ˆê·¸ë¨ ì•Œë¦¼ ìˆ˜ì‹ 
- âœ… ëŒ€ì‹œë³´ë“œë¥¼ PDFë¡œ ì €ì¥ ê°€ëŠ¥
- âœ… ëª¨ë°”ì¼ì—ì„œë„ ëŒ€ì‹œë³´ë“œ ì‚¬ìš© ê°€ëŠ¥
- âœ… API ì‘ë‹µ ì‹œê°„ < 1ì´ˆ

---

### 9.4 êµ¬í˜„ ìˆœì„œ ìƒì„¸ í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Week 1: ê¸´ê¸‰ ìˆ˜ì • (3-4ì¼)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Day 1-2: ì¸í”„ë¼ êµ¬ì¶•                                          â”‚
â”‚   â”œâ”€ DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ë° ìƒì„± (5ê°œ í…Œì´ë¸”)                      â”‚
â”‚   â”œâ”€ activity_logs, api_usage_logs, system_health_logs      â”‚
â”‚   â””â”€ ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± ë° ì‹¤í–‰                       â”‚
â”‚                                                                 â”‚
â”‚ Day 2-3: ë°ì´í„° ìˆ˜ì§‘ ë¡œì§ êµ¬í˜„                                â”‚
â”‚   â”œâ”€ Claude API ì‚¬ìš©ëŸ‰ ì¶”ì  (utils/claude_api.py)            â”‚
â”‚   â”œâ”€ í™œë™ ë¡œê·¸ middleware (middleware/activity_logger.py)    â”‚
â”‚   â”œâ”€ ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬ cron (scripts/health_check.py)          â”‚
â”‚   â””â”€ ëª¨ë“  ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸ì— ë¡œê·¸ ì¶”ê°€                         â”‚
â”‚                                                                 â”‚
â”‚ Day 3-4: Critical Alerts ì„¹ì…˜ êµ¬í˜„                           â”‚
â”‚   â”œâ”€ Alert Rule ë¡œì§ (utils/alert_checker.py)               â”‚
â”‚   â”œâ”€ API ì—”ë“œí¬ì¸íŠ¸ (GET /api/admin/alerts)                  â”‚
â”‚   â”œâ”€ UI ì»´í¬ë„ŒíŠ¸ (components/CriticalAlerts.tsx)             â”‚
â”‚   â””â”€ ì¸ì‚¬ì´íŠ¸ ì§€í‘œ ë©”ë‰´ ìˆ¨ê¹€ ì²˜ë¦¬                            â”‚
â”‚                                                                 â”‚
â”‚ Day 4: ê²€ì¦ ë° ìˆ˜ì •                                           â”‚
â”‚   â”œâ”€ ë°ì´í„° ì •í•©ì„± í…ŒìŠ¤íŠ¸                                     â”‚
â”‚   â”œâ”€ Claude API ì‚¬ìš©ëŸ‰ í™•ì¸                                   â”‚
â”‚   â”œâ”€ í™œë™ ë¡œê·¸ ì €ì¥ í™•ì¸                                     â”‚
â”‚   â””â”€ ë²„ê·¸ ìˆ˜ì •                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Week 2-3: í•µì‹¬ ì§€í‘œ ì¬êµ¬ì„± (9ì¼)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Week 2 (Day 1-5):                                             â”‚
â”‚   Day 1-2: DB ìŠ¤í‚¤ë§ˆ ì¶”ê°€ ë° ë°ì´í„° ìˆ˜ì§‘                      â”‚
â”‚     â”œâ”€ report_views, operational_costs í…Œì´ë¸”                â”‚
â”‚     â”œâ”€ progress_records ì»¬ëŸ¼ ì¶”ê°€ (4ê°œ)                       â”‚
â”‚     â””â”€ í•™ë¶€ëª¨ ì—´ëŒ ì¶”ì  êµ¬í˜„ (í”„ë¡ íŠ¸+ë°±)                      â”‚
â”‚                                                                 â”‚
â”‚   Day 3-5: í•µì‹¬ ì§€í‘œ API êµ¬í˜„                                â”‚
â”‚     â”œâ”€ Row 1: ë¹„ì¦ˆë‹ˆìŠ¤ ê±´ê°•ë„ (4ê°œ API)                       â”‚
â”‚     â”œâ”€ Row 2: ì‚¬ìš©ì ì°¸ì—¬ (4ê°œ API)                          â”‚
â”‚     â””â”€ Row 3: ìˆ˜ìµí™” & ì‹œìŠ¤í…œ (4ê°œ API)                       â”‚
â”‚                                                                 â”‚
â”‚ Week 3 (Day 6-9):                                             â”‚
â”‚   Day 6-7: í•µì‹¬ ì§€í‘œ ì¹´ë“œ UI êµ¬í˜„                            â”‚
â”‚     â”œâ”€ MetricCard ì»´í¬ë„ŒíŠ¸ ê°œë°œ                               â”‚
â”‚     â”œâ”€ 4x3 Grid ë ˆì´ì•„ì›ƒ êµ¬ì„±                                â”‚
â”‚     â”œâ”€ ë°ì´í„° í˜ì¹­ ë¡œì§ (SWR)                                â”‚
â”‚     â””â”€ íŠ¸ë Œë“œ í‘œì‹œ (â–²â–¼â†’)                                    â”‚
â”‚                                                                 â”‚
â”‚   Day 8: í…Œì´ë¸” ì„¹ì…˜ êµ¬í˜„                                    â”‚
â”‚     â”œâ”€ ì´íƒˆ ìœ„í—˜ í•™ì› í…Œì´ë¸”                                  â”‚
â”‚     â”œâ”€ í™œì„± í•™ì› ìƒì„¸ í…Œì´ë¸”                                  â”‚
â”‚     â”œâ”€ ì˜¨ë³´ë”© í¼ë„ ë¶„ì„ í…Œì´ë¸”                                â”‚
â”‚     â””â”€ ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼ 4ê°œ                                    â”‚
â”‚                                                                 â”‚
â”‚   Day 9: í†µí•© í…ŒìŠ¤íŠ¸ ë° ë²„ê·¸ ìˆ˜ì •                            â”‚
â”‚     â”œâ”€ ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸                                     â”‚
â”‚     â”œâ”€ ë°ì´í„° ì •í•©ì„± ê²€ì¦                                     â”‚
â”‚     â””â”€ ë²„ê·¸ ìˆ˜ì •                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Week 4-5: ê³ ë„í™” (7ì¼)                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Week 4 (Day 1-4):                                             â”‚
â”‚   Day 1: ë°°ì¹˜ ì‘ì—… êµ¬í˜„                                      â”‚
â”‚     â”œâ”€ ì¼ì¼ ì§‘ê³„ (daily_aggregation.py)                      â”‚
â”‚     â”œâ”€ ì›”ê°„ ì§‘ê³„ (monthly_aggregation.py)                    â”‚
â”‚     â””â”€ Crontab ì„¤ì •                                           â”‚
â”‚                                                                 â”‚
â”‚   Day 2: ì•Œë¦¼ ì—°ë™                                           â”‚
â”‚     â”œâ”€ ê¸°ì¡´ í…”ë ˆê·¸ë¨ ë´‡ ì—°ë™                                  â”‚
â”‚     â”œâ”€ Alert â†’ í…”ë ˆê·¸ë¨ ë©”ì‹œì§€ í¬ë§·íŒ…                        â”‚
â”‚     â””â”€ í…ŒìŠ¤íŠ¸                                                 â”‚
â”‚                                                                 â”‚
â”‚   Day 3-4: ì¶”ê°€ ê¸°ëŠ¥                                         â”‚
â”‚     â”œâ”€ CSV/PDF ë‚´ë³´ë‚´ê¸°                                       â”‚
â”‚     â”œâ”€ ì‹œê³„ì—´ ì°¨íŠ¸ (Recharts)                                â”‚
â”‚     â””â”€ ì˜ˆì¸¡ ëª¨ë¸ (ê°„ë‹¨í•œ ê·œì¹™ ê¸°ë°˜)                          â”‚
â”‚                                                                 â”‚
â”‚ Week 5 (Day 5-7):                                             â”‚
â”‚   Day 5-6: ì„±ëŠ¥ ìµœì í™” ë° ëª¨ë°”ì¼ ëŒ€ì‘                        â”‚
â”‚     â”œâ”€ ì¿¼ë¦¬ ìµœì í™” (ì¸ë±ìŠ¤ ì¶”ê°€)                              â”‚
â”‚     â”œâ”€ Redis ìºì‹± ë„ì… (ì„ íƒì )                               â”‚
â”‚     â”œâ”€ API ì‘ë‹µ ì†ë„ ê°œì„                                      â”‚
â”‚     â”œâ”€ ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ìˆ˜ì •                                   â”‚
â”‚     â””â”€ ëª¨ë°”ì¼ í…ŒìŠ¤íŠ¸                                          â”‚
â”‚                                                                 â”‚
â”‚   Day 7: ìµœì¢… ê²€ìˆ˜ ë° ë°°í¬                                   â”‚
â”‚     â”œâ”€ ì „ì²´ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸                                   â”‚
â”‚     â”œâ”€ ë¬¸ì„œí™” (README, API ë¬¸ì„œ)                             â”‚
â”‚     â”œâ”€ Staging ë°°í¬ ë° ê²€ì¦                                   â”‚
â”‚     â””â”€ Production ë°°í¬                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. ê¸°ìˆ  ìŠ¤íƒ ë° êµ¬í˜„ ê°€ì´ë“œ

### 10.1 ê¸°ìˆ  ìŠ¤íƒ

| ì˜ì—­ | ê¸°ìˆ  | ë²„ì „ | ë¹„ê³  |
|------|------|------|------|
| **Frontend** | Next.js | 16 | Master Admin í”„ë¡ íŠ¸ì—”ë“œ |
| | React | 18 | UI ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| | TypeScript | 5.x | íƒ€ì… ì•ˆì •ì„± |
| | Tailwind CSS | v4 | ìŠ¤íƒ€ì¼ë§ |
| | shadcn/ui | latest | UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| | Recharts | 2.x | ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| | SWR | 2.x | ë°ì´í„° í˜ì¹­ ë° ìºì‹± |
| **Backend** | Flask | 3.x | Python ì›¹ í”„ë ˆì„ì›Œí¬ |
| | MySQL | 8.x | ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ |
| | Redis | 7.x | ìºì‹± (Phase 3, ì„ íƒì ) |
| | psutil | latest | ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§ |
| **ì¸í”„ë¼** | Vultr VPS | - | ì„œë²„ í˜¸ìŠ¤íŒ… |
| | PM2 | latest | í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ |
| | Nginx | latest | ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ |
| | Cron | - | ë°°ì¹˜ ì‘ì—… ìŠ¤ì¼€ì¤„ë§ |
| **ëª¨ë‹ˆí„°ë§** | python-crontab | latest | Cron ì‘ì—… ê´€ë¦¬ |
| **ì•Œë¦¼** | python-telegram-bot | latest | í…”ë ˆê·¸ë¨ ì•Œë¦¼ (Phase 3) |

---

### 10.2 í”„ë¡œì íŠ¸ êµ¬ì¡°

```
tutornote/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.py          # ëŒ€ì‹œë³´ë“œ API
â”‚   â”‚   â”‚   â”œâ”€â”€ alerts.py             # Critical Alerts API
â”‚   â”‚   â”‚   â”œâ”€â”€ metrics.py            # ì§€í‘œ API
â”‚   â”‚   â”‚   â””â”€â”€ actions.py            # ë¹ ë¥¸ ì•¡ì…˜ API
â”‚   â”‚   â””â”€â”€ reports.py                # ë¦¬í¬íŠ¸ ì¶”ì  API ì¶”ê°€
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â””â”€â”€ activity_logger.py        # í™œë™ ë¡œê·¸ ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ claude_api.py             # Claude API ë˜í¼ (ì‚¬ìš©ëŸ‰ ì¶”ì )
â”‚   â”‚   â”œâ”€â”€ alert_checker.py          # Alert Rule ë¡œì§
â”‚   â”‚   â””â”€â”€ db_utils.py               # DB ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ scripts/
â”‚       â”œâ”€â”€ health_check.py           # ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬ (Cron)
â”‚       â”œâ”€â”€ daily_aggregation.py      # ì¼ì¼ ì§‘ê³„ (Cron)
â”‚       â””â”€â”€ monthly_aggregation.py    # ì›”ê°„ ì§‘ê³„ (Cron)
â”‚
â”œâ”€â”€ master-admin/                      # Master Admin Frontend
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # ìƒˆ ëŒ€ì‹œë³´ë“œ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ operational-costs/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx              # ìš´ì˜ ë¹„ìš© ì…ë ¥ í˜ì´ì§€
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ CriticalAlerts.tsx    # Critical Alerts ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ MetricCard.tsx        # ì§€í‘œ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ ChurnRiskTable.tsx    # ì´íƒˆ ìœ„í—˜ í•™ì› í…Œì´ë¸”
â”‚   â”‚   â”‚   â”œâ”€â”€ OnboardingFunnel.tsx  # ì˜¨ë³´ë”© í¼ë„
â”‚   â”‚   â”‚   â””â”€â”€ QuickActions.tsx      # ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ api/
â”‚           â””â”€â”€ dashboard.ts           # ëŒ€ì‹œë³´ë“œ API í´ë¼ì´ì–¸íŠ¸
â”‚
â”œâ”€â”€ tutornote-frontend/                # TutorNote Frontend
â”‚   â””â”€â”€ pages/
â”‚       â””â”€â”€ share/
â”‚           â””â”€â”€ [token].tsx            # í•™ë¶€ëª¨ ê³µìœ  í˜ì´ì§€ (ì—´ëŒ ì¶”ì  ì¶”ê°€)
â”‚
â””â”€â”€ database/
    â”œâ”€â”€ migrations/
    â”‚   â”œâ”€â”€ 001_create_activity_logs.sql
    â”‚   â”œâ”€â”€ 002_create_api_usage_logs.sql
    â”‚   â”œâ”€â”€ 003_create_report_views.sql
    â”‚   â”œâ”€â”€ 004_create_operational_costs.sql
    â”‚   â”œâ”€â”€ 005_create_system_health_logs.sql
    â”‚   â”œâ”€â”€ 006_create_api_health_checks.sql
    â”‚   â””â”€â”€ 007_alter_progress_records.sql
    â””â”€â”€ seeds/
        â””â”€â”€ sample_data.sql
```

---

### 10.3 API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„

#### 8.3.1 ëŒ€ì‹œë³´ë“œ ë©”ì¸ API

**GET `/api/admin/dashboard/overview`**

ì¢…í•© ëŒ€ì‹œë³´ë“œ ë°ì´í„° ë°˜í™˜

```json
// Response
{
  "critical_alerts": [...],
  "metrics": {
    "business_health": {...},
    "user_engagement": {...},
    "revenue_system": {...}
  },
  "last_updated": "2026-01-04T23:15:00Z"
}
```

#### 8.3.2 ê°œë³„ ì„¹ì…˜ API

**GET `/api/admin/dashboard/alerts`**
```json
{
  "alerts": [
    {
      "id": "sys-cpu-001",
      "category": "system",
      "severity": "critical",
      "title": "CPU ì‚¬ìš©ë¥  92.4%",
      "description": "ì„œë²„ ë¶€í•˜ ë†’ìŒ, ì¦‰ì‹œ í™•ì¸ í•„ìš”",
      "timestamp": "2026-01-04T23:15:00Z",
      "action_buttons": [
        {"label": "ì‹œìŠ¤í…œ í˜ì´ì§€ë¡œ ì´ë™", "action": "navigate", "link": "/system"}
      ]
    }
  ]
}
```

**GET `/api/admin/dashboard/churn-risk-academies`**
```json
{
  "academies": [
    {
      "id": 3,
      "name": "ìŒì•…í•™ì›",
      "owner_name": "-",
      "student_count": 3,
      "report_count": 7,
      "last_activity": "2025-12-12T10:30:00Z",
      "inactive_days": 23,
      "risk_level": "critical"
    }
  ]
}
```

**GET `/api/admin/dashboard/active-academies`**
```json
{
  "academies": [
    {
      "id": 1,
      "name": "OOí”¼ì•„ë…¸í•™ì›",
      "student_count": 8,
      "report_count": 24,
      "dau": 5,
      "last_activity": "2026-01-04T10:30:00Z",
      "is_heavy_user": true,
      "recommended_plan": "Pro"
    }
  ]
}
```

**GET `/api/admin/dashboard/onboarding-funnel`**
```json
{
  "funnel": [
    {"stage": "1. ê°€ì…", "completed": 13, "completion_rate": 100.0, "churned": 0},
    {"stage": "2. í•™ìƒ 1ëª… ë“±ë¡", "completed": 13, "completion_rate": 100.0, "churned": 0},
    {"stage": "3. ì²« ë¦¬í¬íŠ¸ ìƒì„±", "completed": 13, "completion_rate": 100.0, "churned": 0},
    {"stage": "4. ì²« ì¹´í†¡ ê³µìœ ", "completed": 8, "completion_rate": 61.5, "churned": 5}
  ]
}
```

#### 8.3.3 ë¹ ë¥¸ ì•¡ì…˜ API

**POST `/api/admin/actions/send-churn-emails`**
```json
// Request
{
  "academy_ids": [3, 7, 11]
}

// Response
{
  "success": true,
  "emails_sent": 3,
  "failed": []
}
```

**POST `/api/admin/actions/restart-backend`**
```json
// Response
{
  "success": true,
  "message": "Backend ì¬ì‹œì‘ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "estimated_downtime_seconds": 5
}
```

**GET `/api/admin/actions/generate-invite-link`**
```json
// Response
{
  "invite_link": "https://tutornote.kr/signup?ref=admin2026",
  "expires_at": "2026-02-04T00:00:00Z"
}
```

**GET `/api/admin/actions/export-dashboard-pdf`**
```
// Response: PDF File Download
Content-Type: application/pdf
Content-Disposition: attachment; filename="dashboard-2026-01-04.pdf"
```

---

### 9.4 ì„±ëŠ¥ ìµœì í™” ì „ëµ

#### 8.4.1 DB ì¿¼ë¦¬ ìµœì í™”

**ì¸ë±ìŠ¤ ì¶”ê°€**:
```sql
-- activity_logs
CREATE INDEX idx_academy_created ON activity_logs(academy_id, created_at);
CREATE INDEX idx_created_action ON activity_logs(created_at, action_type);

-- api_usage_logs
CREATE INDEX idx_api_created ON api_usage_logs(api_name, created_at);
CREATE INDEX idx_academy_api ON api_usage_logs(academy_id, api_name);

-- report_views
CREATE INDEX idx_report_created ON report_views(report_id, created_at);
CREATE INDEX idx_token_created ON report_views(share_token, created_at);

-- system_health_logs
CREATE INDEX idx_created ON system_health_logs(created_at);

-- report_shares
CREATE INDEX idx_progress_created ON report_shares(progress_record_id, created_at);
```

**ì¿¼ë¦¬ ìµœì í™” ì˜ˆì‹œ**:
```sql
-- ë¹„íš¨ìœ¨ì  (ì „ì²´ í…Œì´ë¸” ìŠ¤ìº”)
SELECT COUNT(DISTINCT academy_id) FROM activity_logs
WHERE created_at >= NOW() - INTERVAL 7 DAY;

-- íš¨ìœ¨ì  (ì¸ë±ìŠ¤ í™œìš©)
SELECT COUNT(DISTINCT academy_id) FROM activity_logs
WHERE created_at >= DATE_SUB(CURDATE(), INTERVAL 7 DAY)
AND created_at < CURDATE() + INTERVAL 1 DAY;
```

#### 8.4.2 í”„ë¡ íŠ¸ì—”ë“œ ìµœì í™”

**React ìµœì í™”**:
```typescript
// useMemoë¡œ ê³„ì‚° ë¹„ìš© ì ˆì•½
const sortedAcademies = useMemo(() => {
  return academies.sort((a, b) => b.inactive_days - a.inactive_days);
}, [academies]);

// React.memoë¡œ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€
const MetricCard = React.memo(({ title, value, trend }: MetricCardProps) => {
  return (
    <div className="card">
      <h3>{title}</h3>
      <div className="value">{value}</div>
      <div className="trend">{trend}</div>
    </div>
  );
});
```

**ë°ì´í„° í˜ì¹­ ìµœì í™” (SWR)**:
```typescript
import useSWR from 'swr';

function Dashboard() {
  const { data, error, isLoading } = useSWR(
    '/api/admin/dashboard/overview',
    fetcher,
    {
      refreshInterval: 60000,  // 1ë¶„ë§ˆë‹¤ ìë™ ê°±ì‹ 
      revalidateOnFocus: false,
      dedupingInterval: 5000   // 5ì´ˆ ë‚´ ì¤‘ë³µ ìš”ì²­ ë°©ì§€
    }
  );
  
  if (error) return <ErrorState error={error} />;
  if (isLoading) return <LoadingState />;
  
  return <DashboardContent data={data} />;
}
```

---

### 9.5 í…”ë ˆê·¸ë¨ ì•Œë¦¼ êµ¬í˜„

#### 8.5.1 ê¸°ì¡´ í…”ë ˆê·¸ë¨ ë´‡ ì—°ë™

**í˜„ì¬ ìƒí™©**: TutorNoteëŠ” ì´ë¯¸ "AI Server Ops Manager"ë¼ëŠ” 24/7 ì„œë²„ ëª¨ë‹ˆí„°ë§ í…”ë ˆê·¸ë¨ ë´‡ì„ ìš´ì˜ ì¤‘ì…ë‹ˆë‹¤. ì´ ë´‡ì˜ ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ Critical Alertë¥¼ í…”ë ˆê·¸ë¨ìœ¼ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.

**êµ¬í˜„ ë°©ë²•**:

**1) í…”ë ˆê·¸ë¨ ì•Œë¦¼ ìœ í‹¸ë¦¬í‹° (`utils/telegram_notifier.py`)**:
```python
import os
import requests
from typing import Dict, List

class TelegramNotifier:
    """í…”ë ˆê·¸ë¨ ë´‡ì„ í†µí•œ ì•Œë¦¼ ë°œì†¡ í´ë˜ìŠ¤"""
    
    def __init__(self):
        self.bot_token = os.getenv('TELEGRAM_BOT_TOKEN')
        self.chat_id = os.getenv('TELEGRAM_CHAT_ID')
        self.api_url = f"https://api.telegram.org/bot{self.bot_token}"
    
    def send_critical_alert(self, alert: Dict) -> bool:
        """
        Critical Alertë¥¼ í…”ë ˆê·¸ë¨ìœ¼ë¡œ ì „ì†¡
        
        Args:
            alert: {
                'severity': 'critical' | 'warning',
                'title': str,
                'description': str,
                'action': str (optional)
            }
        """
        try:
            # ì´ëª¨ì§€ ì„ íƒ
            emoji = "ğŸš¨" if alert['severity'] == 'critical' else "âš ï¸"
            
            # ë©”ì‹œì§€ í¬ë§·íŒ…
            message = f"""
{emoji} **TutorNote Master Admin Alert**

**{alert['title']}**

{alert['description']}
"""
            
            if alert.get('action'):
                message += f"\nğŸ“Œ **ê¶Œì¥ ì¡°ì¹˜**: {alert['action']}"
            
            message += f"\n\nâ° {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}"
            
            # í…”ë ˆê·¸ë¨ API í˜¸ì¶œ
            response = requests.post(
                f"{self.api_url}/sendMessage",
                json={
                    'chat_id': self.chat_id,
                    'text': message,
                    'parse_mode': 'Markdown'
                },
                timeout=10
            )
            
            return response.status_code == 200
            
        except Exception as e:
            print(f"Telegram notification failed: {e}")
            return False
    
    def send_daily_summary(self, summary: Dict) -> bool:
        """
        ì¼ì¼ ìš”ì•½ ë¦¬í¬íŠ¸ë¥¼ í…”ë ˆê·¸ë¨ìœ¼ë¡œ ì „ì†¡
        
        Args:
            summary: {
                'date': str,
                'active_academies': int,
                'new_reports': int,
                'issues': List[str]
            }
        """
        try:
            message = f"""
ğŸ“Š **ì¼ì¼ ìš”ì•½ ë¦¬í¬íŠ¸** ({summary['date']})

âœ… í™œì„± í•™ì›: {summary['active_academies']}ê°œ
ğŸ“ ì‹ ê·œ ë¦¬í¬íŠ¸: {summary['new_reports']}ê±´

"""
            if summary['issues']:
                message += "âš ï¸ **ì£¼ì˜ ì‚¬í•­**:\n"
                for issue in summary['issues']:
                    message += f"  â€¢ {issue}\n"
            else:
                message += "âœ¨ ëª¨ë“  ì‹œìŠ¤í…œ ì •ìƒ ì‘ë™ ì¤‘"
            
            response = requests.post(
                f"{self.api_url}/sendMessage",
                json={
                    'chat_id': self.chat_id,
                    'text': message,
                    'parse_mode': 'Markdown'
                },
                timeout=10
            )
            
            return response.status_code == 200
            
        except Exception as e:
            print(f"Telegram daily summary failed: {e}")
            return False


# ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
telegram_notifier = TelegramNotifier()
```

**2) Alert ì²´ì»¤ì— í…”ë ˆê·¸ë¨ ì•Œë¦¼ ì—°ë™ (`utils/alert_checker.py`)**:
```python
from utils.telegram_notifier import telegram_notifier

def check_and_notify_alerts():
    """
    ëª¨ë“  Alertë¥¼ ì²´í¬í•˜ê³  Critical/Warningì¼ ê²½ìš° í…”ë ˆê·¸ë¨ ì „ì†¡
    """
    alerts = []
    
    # CPU ì²´í¬
    cpu_alert = check_cpu_alert()
    if cpu_alert:
        alerts.append(cpu_alert)
        if cpu_alert['severity'] in ['critical', 'warning']:
            telegram_notifier.send_critical_alert(cpu_alert)
    
    # Backend ì¬ì‹œì‘ ì²´í¬
    restart_alert = check_backend_restart_alert()
    if restart_alert:
        alerts.append(restart_alert)
        if restart_alert['severity'] == 'critical':
            telegram_notifier.send_critical_alert(restart_alert)
    
    # ë¬´í™œë™ í•™ì› ì²´í¬
    inactive_alert = check_inactive_academies()
    if inactive_alert:
        alerts.append(inactive_alert)
        if inactive_alert['severity'] == 'critical':
            telegram_notifier.send_critical_alert(inactive_alert)
    
    return alerts
```

**3) í—¬ìŠ¤ì²´í¬ Cronì— ì•Œë¦¼ ì—°ë™ (`scripts/health_check.py`)**:
```python
import psutil
from utils.telegram_notifier import telegram_notifier

def check_system_health():
    """ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬ + í…”ë ˆê·¸ë¨ ì•Œë¦¼"""
    
    # CPU ì‚¬ìš©ë¥  ì²´í¬
    cpu_usage = psutil.cpu_percent(interval=1)
    
    # Critical ìƒíƒœì¼ ê²½ìš° í…”ë ˆê·¸ë¨ ì•Œë¦¼
    if cpu_usage > 90:
        telegram_notifier.send_critical_alert({
            'severity': 'critical',
            'title': f'âš ï¸ CPU ì‚¬ìš©ë¥  ìœ„í—˜: {cpu_usage}%',
            'description': f'í˜„ì¬ CPU ì‚¬ìš©ë¥ ì´ {cpu_usage}%ë¡œ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤.',
            'action': 'Backend ì¬ì‹œì‘ ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.'
        })
    
    # RAM ì²´í¬
    ram = psutil.virtual_memory()
    if ram.percent > 90:
        telegram_notifier.send_critical_alert({
            'severity': 'warning',
            'title': f'âš ï¸ RAM ì‚¬ìš©ë¥  ë†’ìŒ: {ram.percent}%',
            'description': f'í˜„ì¬ RAM ì‚¬ìš©ë¥ ì´ {ram.percent}%ì…ë‹ˆë‹¤.',
            'action': 'ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.'
        })
    
    # ë””ìŠ¤í¬ ì²´í¬
    disk = psutil.disk_usage('/')
    if disk.percent > 90:
        telegram_notifier.send_critical_alert({
            'severity': 'critical',
            'title': f'âš ï¸ ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±: {disk.percent}%',
            'description': f'í˜„ì¬ ë””ìŠ¤í¬ ì‚¬ìš©ë¥ ì´ {disk.percent}%ì…ë‹ˆë‹¤.',
            'action': 'ë¡œê·¸ íŒŒì¼ ì •ë¦¬ ë˜ëŠ” ë””ìŠ¤í¬ í™•ì¥ì´ í•„ìš”í•©ë‹ˆë‹¤.'
        })

if __name__ == '__main__':
    check_system_health()
```

**4) ì¼ì¼ ìš”ì•½ ë¦¬í¬íŠ¸ ë°œì†¡ (`scripts/daily_summary.py`)**:
```python
from datetime import datetime
from utils.telegram_notifier import telegram_notifier
from database import db

def send_daily_summary():
    """ë§¤ì¼ ì˜¤ì „ 9ì‹œì— ì¼ì¼ ìš”ì•½ ë¦¬í¬íŠ¸ í…”ë ˆê·¸ë¨ ë°œì†¡"""
    
    today = datetime.now().strftime('%Y-%m-%d')
    
    # ë°ì´í„° ì§‘ê³„
    active_academies = db.execute(
        "SELECT COUNT(*) FROM academies WHERE last_login >= DATE_SUB(CURDATE(), INTERVAL 7 DAY)"
    ).fetchone()[0]
    
    new_reports = db.execute(
        f"SELECT COUNT(*) FROM progress_records WHERE DATE(created_at) = '{today}'"
    ).fetchone()[0]
    
    # ì´ìŠˆ ì²´í¬
    issues = []
    
    # CPU ì²´í¬
    cpu_avg = db.execute(
        "SELECT AVG(cpu_usage) FROM system_health_logs WHERE created_at >= DATE_SUB(NOW(), INTERVAL 24 HOUR)"
    ).fetchone()[0]
    
    if cpu_avg and cpu_avg > 80:
        issues.append(f"í‰ê·  CPU ì‚¬ìš©ë¥  ë†’ìŒ: {cpu_avg:.1f}%")
    
    # Backend ì¬ì‹œì‘ ì²´í¬
    restart_count = db.execute(
        "SELECT backend_restart_count FROM system_metrics WHERE DATE(created_at) = CURDATE()"
    ).fetchone()
    
    if restart_count and restart_count[0] > 50:
        issues.append(f"Backend ì¬ì‹œì‘ ë¹ˆë²ˆ: {restart_count[0]}íšŒ")
    
    # í…”ë ˆê·¸ë¨ ë°œì†¡
    telegram_notifier.send_daily_summary({
        'date': today,
        'active_academies': active_academies,
        'new_reports': new_reports,
        'issues': issues
    })

if __name__ == '__main__':
    send_daily_summary()
```

**5) Crontab ì„¤ì •**:
```bash
# /etc/crontab ë˜ëŠ” crontab -e

# 5ë¶„ë§ˆë‹¤ ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬ + Critical Alert ì²´í¬
*/5 * * * * /usr/bin/python3 /home/tutornote/scripts/health_check.py >> /var/log/tutornote/health_check.log 2>&1

# ë§¤ì¼ ì˜¤ì „ 9ì‹œ ì¼ì¼ ìš”ì•½ ë¦¬í¬íŠ¸ í…”ë ˆê·¸ë¨ ë°œì†¡
0 9 * * * /usr/bin/python3 /home/tutornote/scripts/daily_summary.py >> /var/log/tutornote/daily_summary.log 2>&1
```

#### 8.5.2 í…”ë ˆê·¸ë¨ ì•Œë¦¼ ë©”ì‹œì§€ í¬ë§·

**Critical Alert ì˜ˆì‹œ**:
```
ğŸš¨ TutorNote Master Admin Alert

**CPU ì‚¬ìš©ë¥  ìœ„í—˜: 92.4%**

í˜„ì¬ CPU ì‚¬ìš©ë¥ ì´ 92.4%ë¡œ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤. ì‹œìŠ¤í…œ ì„±ëŠ¥ ì €í•˜ ë° ì„œë¹„ìŠ¤ ì¥ì• ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸ“Œ **ê¶Œì¥ ì¡°ì¹˜**: Backend ì¬ì‹œì‘ ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.

â° 2026-01-04 14:30:15
```

**ì¼ì¼ ìš”ì•½ ë¦¬í¬íŠ¸ ì˜ˆì‹œ**:
```
ğŸ“Š ì¼ì¼ ìš”ì•½ ë¦¬í¬íŠ¸ (2026-01-04)

âœ… í™œì„± í•™ì›: 5ê°œ
ğŸ“ ì‹ ê·œ ë¦¬í¬íŠ¸: 12ê±´

âš ï¸ **ì£¼ì˜ ì‚¬í•­**:
  â€¢ í‰ê·  CPU ì‚¬ìš©ë¥  ë†’ìŒ: 85.2%
  â€¢ Backend ì¬ì‹œì‘ ë¹ˆë²ˆ: 68íšŒ

â° 2026-01-04 09:00:00
```

#### 8.5.3 í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

**`.env` íŒŒì¼ì— ì¶”ê°€**:
```bash
# í…”ë ˆê·¸ë¨ ë´‡ (Phase 3)
TELEGRAM_BOT_TOKEN=8473558613:AAHcx6y8m0_axwdx_Wu5NsMr5HlMPZ-V6cQ
TELEGRAM_CHAT_ID=8394117129
```

**í…”ë ˆê·¸ë¨ ë´‡ í† í° ë° Chat ID í™•ì¸ ë°©ë²•**:
1. ë´‡ í† í°: BotFatherì—ì„œ í™•ì¸ (`/token` ëª…ë ¹ì–´)
2. Chat ID: 
   - ê°œì¸ ì±„íŒ…: `https://api.telegram.org/bot{BOT_TOKEN}/getUpdates` ì ‘ì† í›„ `message.chat.id` í™•ì¸
   - ê·¸ë£¹ ì±„íŒ…: ê·¸ë£¹ì— ë´‡ ì´ˆëŒ€ í›„ ìœ„ URLì—ì„œ `chat.id` í™•ì¸ (ìŒìˆ˜ë¡œ í‘œì‹œë¨)

---

## 10. í…ŒìŠ¤íŠ¸ ê³„íš

### 10.1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Tests)

#### 9.1.1 Backend

**í…ŒìŠ¤íŠ¸ ëŒ€ìƒ**:
- Alert Rule ë¡œì§
- ë°ì´í„° ì§‘ê³„ í•¨ìˆ˜
- API ì—”ë“œí¬ì¸íŠ¸

**ì˜ˆì‹œ**:
```python
# tests/test_alert_checker.py
import pytest
from utils.alert_checker import check_cpu_alert

def test_cpu_alert_critical():
    alert = check_cpu_alert(92.4)
    assert alert['severity'] == 'critical'
    assert '92.4%' in alert['title']

def test_cpu_alert_warning():
    alert = check_cpu_alert(85.0)
    assert alert['severity'] == 'warning'

def test_cpu_alert_normal():
    alert = check_cpu_alert(60.0)
    assert alert is None

# tests/test_dashboard_api.py
def test_dashboard_overview_api(client):
    response = client.get('/api/admin/dashboard/overview')
    assert response.status_code == 200
    data = response.json
    assert 'critical_alerts' in data
    assert 'metrics' in data
```

**ì‹¤í–‰**:
```bash
cd backend
pytest tests/ -v --cov=.
```

#### 9.1.2 Frontend

**í…ŒìŠ¤íŠ¸ ëŒ€ìƒ**:
- ì»´í¬ë„ŒíŠ¸ ë Œë”ë§
- ë°ì´í„° ë³€í™˜ ë¡œì§
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬

**ì˜ˆì‹œ**:
```typescript
// __tests__/MetricCard.test.tsx
import { render, screen } from '@testing-library/react';
import MetricCard from '@/components/dashboard/MetricCard';

describe('MetricCard', () => {
  it('renders title and value correctly', () => {
    render(
      <MetricCard 
        title="í•™ì› í˜„í™©" 
        value="13ê°œ" 
        trend={{ change: 2, direction: 'up' }}
      />
    );
    
    expect(screen.getByText('í•™ì› í˜„í™©')).toBeInTheDocument();
    expect(screen.getByText('13ê°œ')).toBeInTheDocument();
  });
  
  it('displays trend indicator', () => {
    render(
      <MetricCard 
        title="í•™ì› í˜„í™©" 
        value="13ê°œ" 
        trend={{ change: 2, direction: 'up' }}
      />
    );
    
    expect(screen.getByText('â–²')).toBeInTheDocument();
    expect(screen.getByText('+2')).toBeInTheDocument();
  });
});
```

**ì‹¤í–‰**:
```bash
cd master-admin
npm test
```

---

### 10.2 í†µí•© í…ŒìŠ¤íŠ¸ (Integration Tests)

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**:

1. **ë°ì´í„° ìˆ˜ì§‘ â†’ ì§‘ê³„ â†’ í‘œì‹œ ì „ì²´ í”Œë¡œìš°**
   - TutorNote ì•±ì—ì„œ ë¦¬í¬íŠ¸ ìƒì„±
   - í™œë™ ë¡œê·¸ ì €ì¥ í™•ì¸
   - API ì‚¬ìš©ëŸ‰ ë¡œê·¸ ì €ì¥ í™•ì¸
   - Master Admin ëŒ€ì‹œë³´ë“œì—ì„œ ë°˜ì˜ í™•ì¸ (1ë¶„ ì´ë‚´)

2. **Critical Alert ë°œìƒ â†’ ì•Œë¦¼**
   - CPU ì‚¬ìš©ë¥ ì„ 90% ì´ìƒìœ¼ë¡œ ì‹œë®¬ë ˆì´ì…˜
   - Alertê°€ ëŒ€ì‹œë³´ë“œ ìµœìƒë‹¨ì— í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
   - (Phase 3) í…”ë ˆê·¸ë¨ ì•Œë¦¼ ìˆ˜ì‹  í™•ì¸

3. **ì´íƒˆ ìœ„í—˜ í•™ì› â†’ ë©”ì¼ ë°œì†¡**
   - 14ì¼ ë¬´í™œë™ í•™ì› ë°ì´í„° ìƒì„±
   - "ì´íƒˆ ìœ„í—˜ í•™ì›" í…Œì´ë¸”ì— í‘œì‹œ í™•ì¸
   - "ì¼ê´„ ë©”ì¼ ë³´ë‚´ê¸°" ë²„íŠ¼ í´ë¦­ â†’ ë©”ì¼ ë°œì†¡ í™•ì¸

4. **í•™ë¶€ëª¨ ì—´ëŒ ì¶”ì **
   - í•™ë¶€ëª¨ê°€ ê³µìœ  ë§í¬ë¡œ ë¦¬í¬íŠ¸ ì—´ëŒ
   - report_views í…Œì´ë¸”ì— ê¸°ë¡ í™•ì¸
   - ëŒ€ì‹œë³´ë“œ "í•™ë¶€ëª¨ ë„ë‹¬" ì¹´ë“œì— ë°˜ì˜ í™•ì¸

---

### 10.3 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

**ëª©í‘œ**:
- API ì‘ë‹µ ì‹œê°„ < 1ì´ˆ
- ëŒ€ì‹œë³´ë“œ ë¡œë”© ì‹œê°„ < 2ì´ˆ
- ë™ì‹œ ì ‘ì† 10ëª… ì²˜ë¦¬

**ë„êµ¬**: Apache JMeter ë˜ëŠ” Locust

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**:
```python
# locustfile.py
from locust import HttpUser, task, between

class DashboardUser(HttpUser):
    wait_time = between(1, 3)
    
    @task(3)
    def load_dashboard(self):
        self.client.get("/api/admin/dashboard/overview")
    
    @task(1)
    def load_churn_risk(self):
        self.client.get("/api/admin/dashboard/churn-risk-academies")
    
    @task(1)
    def load_alerts(self):
        self.client.get("/api/admin/dashboard/alerts")
```

**ì‹¤í–‰**:
```bash
locust -f locustfile.py --host=https://tma.tutornote.kr --users 10 --spawn-rate 2
```

---

### 9.4 ì‚¬ìš©ì ìˆ˜ìš© í…ŒìŠ¤íŠ¸ (UAT)

**í…ŒìŠ¤íŠ¸ ê³„íš**:

| ì‹œë‚˜ë¦¬ì˜¤ | ì˜ˆìƒ ê²°ê³¼ | ì„±ê³µ ê¸°ì¤€ |
|---------|----------|----------|
| ëŒ€ì‹œë³´ë“œ ì²« ì§„ì… | 1ì´ˆ ì´ë‚´ì— ëª¨ë“  ì§€í‘œ ë¡œë”© | ì‘ë‹µ ì‹œê°„ < 1ì´ˆ |
| Critical Alert í™•ì¸ | ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ê°•ì¡° í‘œì‹œ | ì‹œê°ì ìœ¼ë¡œ ëª…í™• |
| ì´íƒˆ ìœ„í—˜ í•™ì› í´ë¦­ | í•™ì› ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™ | ì •í™•í•œ í•™ì› ì •ë³´ í‘œì‹œ |
| ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼ í´ë¦­ | ì¦‰ì‹œ ì‹¤í–‰ ë˜ëŠ” í™•ì¸ ëª¨ë‹¬ | 3ì´ˆ ì´ë‚´ì— ì™„ë£Œ |
| ëª¨ë°”ì¼ ì ‘ì† | í„°ì¹˜ ì¹œí™”ì  UI | ëª¨ë“  ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥ |
| ë°ì´í„° ì •í•©ì„± | ì‹¤ì œ ê°’ê³¼ ì¼ì¹˜ | 100% ì •í™• |

**UAT ì²´í¬ë¦¬ìŠ¤íŠ¸**:
- [ ] ëª¨ë“  ì§€í‘œê°€ ì •í™•í•œ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ëŠ”ê°€?
- [ ] Critical Alertê°€ ì¦‰ì‹œ ëˆˆì— ë„ëŠ”ê°€?
- [ ] ì´íƒˆ ìœ„í—˜ í•™ì›ì„ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆëŠ”ê°€?
- [ ] ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼ì´ ì‹¤ì œë¡œ ì‘ë™í•˜ëŠ”ê°€?
- [ ] ëª¨ë°”ì¼ì—ì„œë„ ì‚¬ìš©í•˜ê¸° í¸í•œê°€?
- [ ] ì „ì²´ì ì¸ UXê°€ ì§ê´€ì ì¸ê°€?
- [ ] ë¡œë”© ì‹œê°„ì´ ë§Œì¡±ìŠ¤ëŸ¬ìš´ê°€?
- [ ] Claude API ì‚¬ìš©ëŸ‰ì´ ì •í™•í•˜ê²Œ ì§‘ê³„ë˜ëŠ”ê°€?
- [ ] í•™ë¶€ëª¨ ì—´ëŒë¥ ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ëŠ”ê°€?

---

## 11. ì„±ê³µ ì§€í‘œ

### 10.1 ì •ëŸ‰ì  ì§€í‘œ

| ì§€í‘œ | í˜„ì¬ (Before) | ëª©í‘œ (After) | ì¸¡ì • ë°©ë²• |
|------|---------------|--------------|-----------|
| ëŒ€ì‹œë³´ë“œ í™•ì¸ ì†Œìš” ì‹œê°„ | ~5ë¶„ | ~1ë¶„ | ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ |
| Critical Issue ì¸ì§€ ì‹œê°„ | ~30ì´ˆ | ~3ì´ˆ | ì‹œë®¬ë ˆì´ì…˜ |
| ë°ì´í„° ì •í•©ì„± | 70% | 100% | ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ |
| API ì‘ë‹µ ì‹œê°„ | - | < 1ì´ˆ | ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ |
| ëŒ€ì‹œë³´ë“œ ë¡œë”© ì‹œê°„ | - | < 2ì´ˆ | Lighthouse |
| ëª¨ë°”ì¼ ì‚¬ìš©ì„± ì ìˆ˜ | - | 90/100 | Google PageSpeed |
| í˜ì´ì§€ ì´ë™ íšŸìˆ˜ | 3íšŒ | 0íšŒ | ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ |

### 10.2 ì •ì„±ì  ì§€í‘œ

| ì§€í‘œ | ì¸¡ì • ë°©ë²• | ëª©í‘œ |
|------|----------|------|
| ìš´ì˜ì ë§Œì¡±ë„ | 5ì  ì²™ë„ ì„¤ë¬¸ | 4.5/5 ì´ìƒ |
| ê¸°ëŠ¥ ì™„ì„±ë„ | ì²´í¬ë¦¬ìŠ¤íŠ¸ | 95% ì´ìƒ |
| ì½”ë“œ í’ˆì§ˆ | Code Review | ìŠ¹ì¸ ì—†ëŠ” ë°°í¬ ê¸ˆì§€ |
| ë¬¸ì„œ ì™„ì„±ë„ | README, API ë¬¸ì„œ | 100% ì‘ì„± |
| UI/UX ì§ê´€ì„± | ì‚¬ìš©ì í”¼ë“œë°± | "ì§ê´€ì ì´ë‹¤" 90% |

### 10.3 ë¹„ì¦ˆë‹ˆìŠ¤ ì˜í–¥ ì§€í‘œ

| ì§€í‘œ | í˜„ì¬ | ëª©í‘œ | ê¸°ëŒ€ íš¨ê³¼ |
|------|------|------|-----------|
| ì˜ì‚¬ê²°ì • ì†ë„ | - | 50% í–¥ìƒ | ë°ì´í„° ê¸°ë°˜ ë¹ ë¥¸ íŒë‹¨ |
| ë¬¸ì œ ëŒ€ì‘ ì‹œê°„ | - | 70% ë‹¨ì¶• | Critical Alert ì¦‰ì‹œ ì¸ì§€ |
| ì´íƒˆ í•™ì› ì¬í™œì„±í™” | - | 20% ì¦ê°€ | ì„ ì œì  ì¼€ì–´ ê°€ëŠ¥ |
| ìœ ë£Œ ì „í™˜ìœ¨ ì˜ˆì¸¡ | - | ì˜ˆì¸¡ ê°€ëŠ¥ | ìˆ˜ìµí™” ì¤€ë¹„ë„ íŒŒì•… |

---

## 11. ë¦¬ìŠ¤í¬ ê´€ë¦¬

### 11.1 ê¸°ìˆ ì  ë¦¬ìŠ¤í¬

| ë¦¬ìŠ¤í¬ | ë°œìƒ ê°€ëŠ¥ì„± | ì˜í–¥ë„ | ëŒ€ì‘ ë°©ì•ˆ |
|--------|------------|--------|----------|
| DB ì„±ëŠ¥ ì €í•˜ | ì¤‘ê°„ | ë†’ìŒ | ì¸ë±ìŠ¤ ìµœì í™”, ì¿¼ë¦¬ íŠœë‹, ì§‘ê³„ ë°°ì¹˜ ì‘ì—… |
| API ì‘ë‹µ ì§€ì—° | ë‚®ìŒ | ì¤‘ê°„ | ë¹„ë™ê¸° ì²˜ë¦¬, íƒ€ì„ì•„ì›ƒ ì„¤ì • |
| ë°ì´í„° ì •í•©ì„± ì˜¤ë¥˜ | ì¤‘ê°„ | ë†’ìŒ | ì² ì €í•œ í…ŒìŠ¤íŠ¸, ë¡¤ë°± ê³„íš, ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸ |
| í”„ë¡ íŠ¸ì—”ë“œ ì„±ëŠ¥ | ë‚®ìŒ | ì¤‘ê°„ | React ìµœì í™”, ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… |

### 11.2 ì¼ì • ë¦¬ìŠ¤í¬

| ë¦¬ìŠ¤í¬ | ë°œìƒ ê°€ëŠ¥ì„± | ì˜í–¥ë„ | ëŒ€ì‘ ë°©ì•ˆ |
|--------|------------|--------|----------|
| ì˜ˆìƒë³´ë‹¤ ê¸´ ê°œë°œ ì‹œê°„ | ì¤‘ê°„ | ì¤‘ê°„ | MVP ìš°ì„ , Phase ë‚˜ëˆ ì„œ ë°°í¬ |
| ê¸°ëŠ¥ ë³€ê²½ ìš”ì²­ | ë†’ìŒ | ë‚®ìŒ | Change Request í”„ë¡œì„¸ìŠ¤ |
| ë¦¬ì†ŒìŠ¤ ë¶€ì¡± | ë‚®ìŒ | ë†’ìŒ | ìš°ì„ ìˆœìœ„ ì¡°ì •, ì™¸ì£¼ ê²€í†  |

### 11.3 ìš´ì˜ ë¦¬ìŠ¤í¬

| ë¦¬ìŠ¤í¬ | ë°œìƒ ê°€ëŠ¥ì„± | ì˜í–¥ë„ | ëŒ€ì‘ ë°©ì•ˆ |
|--------|------------|--------|----------|
| ëŒ€ì‹œë³´ë“œ ì¥ì•  | ë‚®ìŒ | ì¤‘ê°„ | ëª¨ë‹ˆí„°ë§ ì•Œë¦¼, ë¹ ë¥¸ ë¡¤ë°± |
| ë°ì´í„° ì†ì‹¤ | ë§¤ìš° ë‚®ìŒ | ë§¤ìš° ë†’ìŒ | ì¼ì¼ ë°±ì—…, íŠ¸ëœì­ì…˜ ê´€ë¦¬ |
| ë³´ì•ˆ ì·¨ì•½ì  | ë‚®ìŒ | ë†’ìŒ | ì •ê¸° ë³´ì•ˆ ì ê²€, ê¶Œí•œ ê´€ë¦¬ |

---

## 12. ë°°í¬ ê³„íš

### 12.1 ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ëª¨ë“  ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] UAT ì™„ë£Œ ë° ìŠ¹ì¸
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ì½”ë“œ ë¦¬ë·° ì™„ë£Œ
- [ ] DB ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì¤€ë¹„ ë° í…ŒìŠ¤íŠ¸
- [ ] ë¡¤ë°± ê³„íš ìˆ˜ë¦½
- [ ] ë¬¸ì„œ ì‘ì„± ì™„ë£Œ (README, API ë¬¸ì„œ)
- [ ] ë°±ì—… ì™„ë£Œ (DB, ì½”ë“œ)
- [ ] Cron ì‘ì—… ì„¤ì • í™•ì¸

### 12.2 ë°°í¬ ìˆœì„œ

1. **DB ë§ˆì´ê·¸ë ˆì´ì…˜ (ë°°í¬ ì „ë‚ )**
   - Staging í™˜ê²½ì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸
   - ë§ˆì´ê·¸ë ˆì´ì…˜ ì†Œìš” ì‹œê°„ ì¸¡ì •
   - ë¡¤ë°± ìŠ¤í¬ë¦½íŠ¸ ì¤€ë¹„

2. **Staging í™˜ê²½ ë°°í¬ (ë°°í¬ ë‹¹ì¼ ì˜¤ì „)**
   - DB ë°±ì—…
   - DB ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
   - ë°±ì—”ë“œ ë°°í¬ (PM2 ì¬ì‹œì‘)
   - í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ & ë°°í¬
   - Cron ì‘ì—… ì„¤ì •
   - ì—°ê¸° í…ŒìŠ¤íŠ¸ (2ì‹œê°„)

3. **Production ë°°í¬ (ë°°í¬ ë‹¹ì¼ ì˜¤í›„)**
   - ì‚¬ìš©ì ê³µì§€ (30ë¶„ ì „)
   - DB ë°±ì—…
   - DB ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ (ì•½ 5ë¶„)
   - ë°±ì—”ë“œ ë°°í¬ (PM2 ì¬ì‹œì‘)
   - í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ & ë°°í¬
   - Cron ì‘ì—… ì„¤ì •
   - ëª¨ë‹ˆí„°ë§ (30ë¶„)

4. **ëª¨ë‹ˆí„°ë§ ê¸°ê°„ (ë°°í¬ í›„ 1ì£¼ì¼)**
   - ì—ëŸ¬ ë¡œê·¸ í™•ì¸ (ë§¤ì¼)
   - ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ (ë§¤ì¼)
   - ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘
   - ë²„ê·¸ ìˆ˜ì • (ê¸´ê¸‰)

### 12.3 ë¡¤ë°± ê³„íš

**ë¡¤ë°± ì¡°ê±´**:
- Critical ì—ëŸ¬ ë°œìƒ
- ì„±ëŠ¥ ì €í•˜ 50% ì´ìƒ
- ë°ì´í„° ì •í•©ì„± ì˜¤ë¥˜
- ì‚¬ìš©ì ë¶ˆë§Œ ë‹¤ìˆ˜ ë°œìƒ

**ë¡¤ë°± ì ˆì°¨** (30ë¶„ ì´ë‚´):
1. í”„ë¡ íŠ¸ì—”ë“œ ì´ì „ ë²„ì „ ë°°í¬ (5ë¶„)
2. ë°±ì—”ë“œ ì´ì „ ë²„ì „ PM2 ì¬ì‹œì‘ (2ë¶„)
3. DB ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡¤ë°± (10ë¶„)
4. Cron ì‘ì—… ë³µì› (3ë¶„)
5. ê²€ì¦ í…ŒìŠ¤íŠ¸ (10ë¶„)
6. ì›ì¸ ë¶„ì„ ë° ìˆ˜ì •

---

## 13. í–¥í›„ ë¡œë“œë§µ

### Phase 4: ë¨¸ì‹ ëŸ¬ë‹ ì˜ˆì¸¡ (Q2 2026)
- ì´íƒˆ ê°€ëŠ¥ì„± ì˜ˆì¸¡ ëª¨ë¸ (ML ê¸°ë°˜)
- ìœ ë£Œ ì „í™˜ í™•ë¥  ì˜ˆì¸¡
- ìµœì  ì•Œë¦¼ ë°œì†¡ ì‹œê°„ ì¶”ì²œ
- A/B í…ŒìŠ¤íŠ¸ ìë™ ë¶„ì„

### Phase 5: ê³ ê¸‰ ë¶„ì„ (Q3 2026)
- ì½”í˜¸íŠ¸ ë¶„ì„ (ê°€ì… ì‹œê¸°ë³„ ë¦¬í…ì…˜)
- RFM ë¶„ì„ (Recency, Frequency, Monetary)
- ì˜ˆì¸¡ ë¶„ì„ ëŒ€ì‹œë³´ë“œ
- ì»¤ìŠ¤í…€ ë¦¬í¬íŠ¸ ë¹Œë”

### Phase 6: ìë™í™” (Q4 2026)
- AI ê¸°ë°˜ ìë™ ë¦¬í¬íŠ¸ ìƒì„±
- ì´íƒˆ í•™ì› ìë™ ì¼€ì–´ í”Œë¡œìš°
- ìŠ¤ë§ˆíŠ¸ ì•Œë¦¼ ì‹œìŠ¤í…œ
- ìë™ ë¹„ìš© ìµœì í™” ì œì•ˆ

---

## 14. ì°¸ê³  ìë£Œ

### 14.1 ë‚´ë¶€ ë¬¸ì„œ
- `/mnt/project/ROADMAP.md` - TutorNote ì „ì²´ ë¡œë“œë§µ
- `/mnt/project/í”„ë¡¬í”„íŠ¸_ì–´ì¡°_ê°œì„ .md` - AI í”¼ë“œë°± í”„ë¡¬í”„íŠ¸
- `/mnt/project/TutorNote_2026_ì „ëµ_ë³´ê³ ì„œ.pdf` - ë¹„ì¦ˆë‹ˆìŠ¤ ì „ëµ

### 14.2 ê¸°ìˆ  ë¬¸ì„œ
- [Next.js 16 Documentation](https://nextjs.org/docs)
- [Flask Documentation](https://flask.palletsprojects.com/)
- [MySQL 8.0 Reference](https://dev.mysql.com/doc/refman/8.0/en/)
- [shadcn/ui Components](https://ui.shadcn.com/)
- [Recharts Documentation](https://recharts.org/)
- [SWR Documentation](https://swr.vercel.app/)

### 14.3 ë””ìì¸ ì°¸ê³ 
- [Vercel Analytics](https://vercel.com/analytics)
- [Linear Dashboard](https://linear.app/)
- [Stripe Dashboard](https://dashboard.stripe.com/)
- [Amplitude Analytics](https://amplitude.com/)

---

## ë¶€ë¡

### A. ìš©ì–´ ì •ì˜

| ìš©ì–´ | ì •ì˜ |
|------|------|
| **DAU** | Daily Active Users - ì¼ì¼ í™œì„± ì‚¬ìš©ì (í•™ì›) ìˆ˜ |
| **MAU** | Monthly Active Users - ì›”ê°„ í™œì„± ì‚¬ìš©ì (í•™ì›) ìˆ˜ |
| **ê³ ì°©ë„ (Stickiness)** | DAU/MAU ë¹„ìœ¨ - ì‚¬ìš©ìê°€ ì–¼ë§ˆë‚˜ ìì£¼ ì‚¬ìš©í•˜ëŠ”ì§€ |
| **ì´íƒˆ ìœ„í—˜** | 7ì¼ ì´ìƒ ë¬´í™œë™ í•™ì› |
| **í—¤ë¹„ìœ ì €** | ì›” 20ê±´ ì´ìƒ ë¦¬í¬íŠ¸ ìƒì„±í•˜ëŠ” í•™ì› |
| **ì˜¨ë³´ë”© í¼ë„** | ê°€ì… â†’ í•™ìƒ ë“±ë¡ â†’ ë¦¬í¬íŠ¸ ìƒì„± â†’ ì¹´í†¡ ê³µìœ  ì „í™˜ ê³¼ì • |
| **MRR** | Monthly Recurring Revenue - ì›”ê°„ ë°˜ë³µ ë§¤ì¶œ |
| **Critical Alert** | ì¦‰ì‹œ ëŒ€ì‘ì´ í•„ìš”í•œ ê¸´ê¸‰ ì•Œë¦¼ |
| **Soft Delete** | ì‹¤ì œ ì‚­ì œê°€ ì•„ë‹Œ is_deleted í”Œë˜ê·¸ ë³€ê²½ |

### B. í™˜ê²½ ë³€ìˆ˜

**`.env` íŒŒì¼ ì˜ˆì‹œ**:
```bash
# Database
DB_HOST=localhost
DB_PORT=3306
DB_USER=tutornote
DB_PASSWORD=your_password
DB_NAME=tutornote_db

# Claude API
ANTHROPIC_API_KEY=sk-ant-...

# Redis (Phase 3, ì„ íƒì )
REDIS_HOST=localhost
REDIS_PORT=6379

# í…”ë ˆê·¸ë¨ ë´‡ (Phase 3)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_chat_id

# Master Admin
MASTER_ADMIN_URL=https://tma.tutornote.kr
MASTER_ADMIN_PORT=3004

# TutorNote App
TUTORNOTE_APP_URL=https://app.tutornote.kr
```

### C. ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì˜ˆì‹œ

**`database/migrations/001_create_activity_logs.sql`**:
```sql
-- Activity Logs í…Œì´ë¸” ìƒì„±
CREATE TABLE IF NOT EXISTS activity_logs (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  academy_id INT NOT NULL,
  user_id INT,
  action_type VARCHAR(50) NOT NULL COMMENT 'login, create_report, share_kakaotalk, etc.',
  action_detail JSON COMMENT 'ì•¡ì…˜ ìƒì„¸ ì •ë³´',
  ip_address VARCHAR(45),
  user_agent TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX idx_academy_id (academy_id),
  INDEX idx_created_at (created_at),
  INDEX idx_action_type (action_type),
  INDEX idx_academy_created (academy_id, created_at),
  FOREIGN KEY (academy_id) REFERENCES academies(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- ë¡¤ë°± ìŠ¤í¬ë¦½íŠ¸
-- DROP TABLE IF EXISTS activity_logs;
```

### D. Crontab ì„¤ì • ì „ì²´

```bash
# /etc/crontab ë˜ëŠ” crontab -e

# 5ë¶„ë§ˆë‹¤ ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬
*/5 * * * * /usr/bin/python3 /home/tutornote/scripts/health_check.py >> /var/log/tutornote/health_check.log 2>&1

# ë§¤ì¼ ìƒˆë²½ 2ì‹œ ì¼ì¼ ì§‘ê³„
0 2 * * * /usr/bin/python3 /home/tutornote/scripts/daily_aggregation.py >> /var/log/tutornote/daily_aggregation.log 2>&1

# ë§¤ì›” 1ì¼ ìƒˆë²½ 3ì‹œ ì›”ê°„ ì§‘ê³„
0 3 1 * * /usr/bin/python3 /home/tutornote/scripts/monthly_aggregation.py >> /var/log/tutornote/monthly_aggregation.log 2>&1

# ë§¤ì¼ ìƒˆë²½ 4ì‹œ DB ë°±ì—…
0 4 * * * /usr/local/bin/backup_db.sh >> /var/log/tutornote/backup.log 2>&1
```

---

**ë¬¸ì„œ ì¢…ë£Œ**

ì´ ê¸°íšì„œëŠ” TutorNote Master Admin ëŒ€ì‹œë³´ë“œ ê°œì„ ì„ ìœ„í•œ ëª¨ë“  ì •ë³´ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤. êµ¬í˜„ ê³¼ì •ì—ì„œ ì§ˆë¬¸ì´ë‚˜ ë³€ê²½ ì‚¬í•­ì´ ìˆì„ ê²½ìš° PMì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”.

**ë¬¸ì„œ ë²„ì „ íˆìŠ¤í† ë¦¬**:
- v1.0 (2026-01-04): ì´ˆì•ˆ ì‘ì„± - êµ¬í˜„ ìˆœì„œ ë° ë°ì´í„° ìˆ˜ì§‘ ë°©ë²• í¬í•¨
- v1.1 (2026-01-05): Pre-work ì„¹ì…˜ ì¶”ê°€ - Alert ì¤‘ë³µ ë°©ì§€, Config, ë°°í¬ ì „ëµ, ë°ì´í„° ë°±í•„ ê³„íš, Staging ê°€ì´ë“œ